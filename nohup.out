INFO:     Loading environment from 'app/.env'
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [6922]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:52565 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52574 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52581 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52592 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52593 - "GET /batches/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 100 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1e50>}
  {'type': 'missing', 'loc': ('response', 1, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1e20>}
  {'type': 'missing', 'loc': ('response', 2, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1df0>}
  {'type': 'missing', 'loc': ('response', 3, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1820>}
  {'type': 'missing', 'loc': ('response', 4, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1eb0>}
  {'type': 'missing', 'loc': ('response', 5, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1ee0>}
  {'type': 'missing', 'loc': ('response', 6, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1f10>}
  {'type': 'missing', 'loc': ('response', 7, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1f40>}
  {'type': 'missing', 'loc': ('response', 8, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1f70>}
  {'type': 'missing', 'loc': ('response', 9, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1fa0>}
  {'type': 'missing', 'loc': ('response', 10, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca1fd0>}
  {'type': 'missing', 'loc': ('response', 11, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2000>}
  {'type': 'missing', 'loc': ('response', 12, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2030>}
  {'type': 'missing', 'loc': ('response', 13, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2060>}
  {'type': 'missing', 'loc': ('response', 14, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2090>}
  {'type': 'missing', 'loc': ('response', 15, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca20c0>}
  {'type': 'missing', 'loc': ('response', 16, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca20f0>}
  {'type': 'missing', 'loc': ('response', 17, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2120>}
  {'type': 'missing', 'loc': ('response', 18, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2150>}
  {'type': 'missing', 'loc': ('response', 19, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2180>}
  {'type': 'missing', 'loc': ('response', 20, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca21b0>}
  {'type': 'missing', 'loc': ('response', 21, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca21e0>}
  {'type': 'missing', 'loc': ('response', 22, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2210>}
  {'type': 'missing', 'loc': ('response', 23, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2240>}
  {'type': 'missing', 'loc': ('response', 24, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2270>}
  {'type': 'missing', 'loc': ('response', 25, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca22a0>}
  {'type': 'missing', 'loc': ('response', 26, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca22d0>}
  {'type': 'missing', 'loc': ('response', 27, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2300>}
  {'type': 'missing', 'loc': ('response', 28, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2330>}
  {'type': 'missing', 'loc': ('response', 29, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2360>}
  {'type': 'missing', 'loc': ('response', 30, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2390>}
  {'type': 'missing', 'loc': ('response', 31, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca23c0>}
  {'type': 'missing', 'loc': ('response', 32, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca23f0>}
  {'type': 'missing', 'loc': ('response', 33, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2420>}
  {'type': 'missing', 'loc': ('response', 34, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2450>}
  {'type': 'missing', 'loc': ('response', 35, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2480>}
  {'type': 'missing', 'loc': ('response', 36, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca24b0>}
  {'type': 'missing', 'loc': ('response', 37, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca24e0>}
  {'type': 'missing', 'loc': ('response', 38, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2510>}
  {'type': 'missing', 'loc': ('response', 39, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2540>}
  {'type': 'missing', 'loc': ('response', 40, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2570>}
  {'type': 'missing', 'loc': ('response', 41, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca25a0>}
  {'type': 'missing', 'loc': ('response', 42, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca25d0>}
  {'type': 'missing', 'loc': ('response', 43, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2600>}
  {'type': 'missing', 'loc': ('response', 44, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2630>}
  {'type': 'missing', 'loc': ('response', 45, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2660>}
  {'type': 'missing', 'loc': ('response', 46, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca26c0>}
  {'type': 'missing', 'loc': ('response', 47, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2720>}
  {'type': 'missing', 'loc': ('response', 48, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2780>}
  {'type': 'missing', 'loc': ('response', 49, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca27e0>}
  {'type': 'missing', 'loc': ('response', 50, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2840>}
  {'type': 'missing', 'loc': ('response', 51, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca28a0>}
  {'type': 'missing', 'loc': ('response', 52, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2900>}
  {'type': 'missing', 'loc': ('response', 53, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2960>}
  {'type': 'missing', 'loc': ('response', 54, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca29c0>}
  {'type': 'missing', 'loc': ('response', 55, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2a20>}
  {'type': 'missing', 'loc': ('response', 56, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2a80>}
  {'type': 'missing', 'loc': ('response', 57, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2ae0>}
  {'type': 'missing', 'loc': ('response', 58, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2b40>}
  {'type': 'missing', 'loc': ('response', 59, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2ba0>}
  {'type': 'missing', 'loc': ('response', 60, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2c00>}
  {'type': 'missing', 'loc': ('response', 61, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2c60>}
  {'type': 'missing', 'loc': ('response', 62, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2cc0>}
  {'type': 'missing', 'loc': ('response', 63, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2d20>}
  {'type': 'missing', 'loc': ('response', 64, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2d80>}
  {'type': 'missing', 'loc': ('response', 65, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2de0>}
  {'type': 'missing', 'loc': ('response', 66, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2e40>}
  {'type': 'missing', 'loc': ('response', 67, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2ea0>}
  {'type': 'missing', 'loc': ('response', 68, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2f00>}
  {'type': 'missing', 'loc': ('response', 69, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2f60>}
  {'type': 'missing', 'loc': ('response', 70, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca2fc0>}
  {'type': 'missing', 'loc': ('response', 71, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3020>}
  {'type': 'missing', 'loc': ('response', 72, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3080>}
  {'type': 'missing', 'loc': ('response', 73, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca30e0>}
  {'type': 'missing', 'loc': ('response', 74, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3140>}
  {'type': 'missing', 'loc': ('response', 75, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca31a0>}
  {'type': 'missing', 'loc': ('response', 76, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3200>}
  {'type': 'missing', 'loc': ('response', 77, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3260>}
  {'type': 'missing', 'loc': ('response', 78, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca32c0>}
  {'type': 'missing', 'loc': ('response', 79, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3320>}
  {'type': 'missing', 'loc': ('response', 80, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3380>}
  {'type': 'missing', 'loc': ('response', 81, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca33e0>}
  {'type': 'missing', 'loc': ('response', 82, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3440>}
  {'type': 'missing', 'loc': ('response', 83, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca34a0>}
  {'type': 'missing', 'loc': ('response', 84, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3500>}
  {'type': 'missing', 'loc': ('response', 85, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3560>}
  {'type': 'missing', 'loc': ('response', 86, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca35c0>}
  {'type': 'missing', 'loc': ('response', 87, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3620>}
  {'type': 'missing', 'loc': ('response', 88, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3680>}
  {'type': 'missing', 'loc': ('response', 89, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca36e0>}
  {'type': 'missing', 'loc': ('response', 90, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3740>}
  {'type': 'missing', 'loc': ('response', 91, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca37a0>}
  {'type': 'missing', 'loc': ('response', 92, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3800>}
  {'type': 'missing', 'loc': ('response', 93, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3860>}
  {'type': 'missing', 'loc': ('response', 94, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca38c0>}
  {'type': 'missing', 'loc': ('response', 95, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3920>}
  {'type': 'missing', 'loc': ('response', 96, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3980>}
  {'type': 'missing', 'loc': ('response', 97, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca39e0>}
  {'type': 'missing', 'loc': ('response', 98, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3a40>}
  {'type': 'missing', 'loc': ('response', 99, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10aca3aa0>}

  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 15, in list_batches
    GET /batches/
INFO:     127.0.0.1:52598 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52599 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52598 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52600 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52592 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52592 - "GET /violations/c7bc5c0a-5f38-4a8f-b2fa-bd53521cfe7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:52592 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52604 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A03.356Z&to_ts=2026-01-07T13%3A43%3A03.356Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52605 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A03.358Z&to_ts=2026-01-07T13%3A43%3A03.358Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52604 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A03.356Z&to_ts=2026-01-07T13%3A43%3A03.356Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52606 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A03.358Z&to_ts=2026-01-07T13%3A43%3A03.358Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52606 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T13%3A43%3A05.537Z&to_ts=2026-01-07T13%3A43%3A05.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52604 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T13%3A43%3A05.537Z&to_ts=2026-01-07T13%3A43%3A05.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52611 - "GET /audit/logs/export?domain=SYSTEM&timeRange=last_24_hours HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:52621 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A14.230Z&to_ts=2026-01-07T13%3A43%3A14.230Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52621 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T12%3A43%3A14.230Z&to_ts=2026-01-07T13%3A43%3A14.230Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52625 - "GET /batches/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 100 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addac60>}
  {'type': 'missing', 'loc': ('response', 1, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addac90>}
  {'type': 'missing', 'loc': ('response', 2, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addacc0>}
  {'type': 'missing', 'loc': ('response', 3, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda240>}
  {'type': 'missing', 'loc': ('response', 4, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addad20>}
  {'type': 'missing', 'loc': ('response', 5, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addad50>}
  {'type': 'missing', 'loc': ('response', 6, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addad80>}
  {'type': 'missing', 'loc': ('response', 7, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addadb0>}
  {'type': 'missing', 'loc': ('response', 8, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addade0>}
  {'type': 'missing', 'loc': ('response', 9, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addae10>}
  {'type': 'missing', 'loc': ('response', 10, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addae40>}
  {'type': 'missing', 'loc': ('response', 11, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addae70>}
  {'type': 'missing', 'loc': ('response', 12, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaea0>}
  {'type': 'missing', 'loc': ('response', 13, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaed0>}
  {'type': 'missing', 'loc': ('response', 14, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaf00>}
  {'type': 'missing', 'loc': ('response', 15, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaf30>}
  {'type': 'missing', 'loc': ('response', 16, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaf60>}
  {'type': 'missing', 'loc': ('response', 17, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaf90>}
  {'type': 'missing', 'loc': ('response', 18, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addafc0>}
  {'type': 'missing', 'loc': ('response', 19, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaff0>}
  {'type': 'missing', 'loc': ('response', 20, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb020>}
  {'type': 'missing', 'loc': ('response', 21, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb050>}
  {'type': 'missing', 'loc': ('response', 22, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb080>}
  {'type': 'missing', 'loc': ('response', 23, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb0b0>}
  {'type': 'missing', 'loc': ('response', 24, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb0e0>}
  {'type': 'missing', 'loc': ('response', 25, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb110>}
  {'type': 'missing', 'loc': ('response', 26, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add80b0>}
  {'type': 'missing', 'loc': ('response', 27, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8080>}
  {'type': 'missing', 'loc': ('response', 28, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb140>}
  {'type': 'missing', 'loc': ('response', 29, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8230>}
  {'type': 'missing', 'loc': ('response', 30, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8320>}
  {'type': 'missing', 'loc': ('response', 31, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8110>}
  {'type': 'missing', 'loc': ('response', 32, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb170>}
  {'type': 'missing', 'loc': ('response', 33, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add83e0>}
  {'type': 'missing', 'loc': ('response', 34, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add84d0>}
  {'type': 'missing', 'loc': ('response', 35, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add81a0>}
  {'type': 'missing', 'loc': ('response', 36, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb1a0>}
  {'type': 'missing', 'loc': ('response', 37, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8590>}
  {'type': 'missing', 'loc': ('response', 38, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8680>}
  {'type': 'missing', 'loc': ('response', 39, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8350>}
  {'type': 'missing', 'loc': ('response', 40, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb1d0>}
  {'type': 'missing', 'loc': ('response', 41, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8740>}
  {'type': 'missing', 'loc': ('response', 42, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8500>}
  {'type': 'missing', 'loc': ('response', 43, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add88f0>}
  {'type': 'missing', 'loc': ('response', 44, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add86b0>}
  {'type': 'missing', 'loc': ('response', 45, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8aa0>}
  {'type': 'missing', 'loc': ('response', 46, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8860>}
  {'type': 'missing', 'loc': ('response', 47, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8c50>}
  {'type': 'missing', 'loc': ('response', 48, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb290>}
  {'type': 'missing', 'loc': ('response', 49, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8140>}
  {'type': 'missing', 'loc': ('response', 50, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8f20>}
  {'type': 'missing', 'loc': ('response', 51, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb320>}
  {'type': 'missing', 'loc': ('response', 52, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add8ef0>}
  {'type': 'missing', 'loc': ('response', 53, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9220>}
  {'type': 'missing', 'loc': ('response', 54, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb3e0>}
  {'type': 'missing', 'loc': ('response', 55, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add91f0>}
  {'type': 'missing', 'loc': ('response', 56, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9520>}
  {'type': 'missing', 'loc': ('response', 57, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb4a0>}
  {'type': 'missing', 'loc': ('response', 58, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add94f0>}
  {'type': 'missing', 'loc': ('response', 59, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9820>}
  {'type': 'missing', 'loc': ('response', 60, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb560>}
  {'type': 'missing', 'loc': ('response', 61, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add97f0>}
  {'type': 'missing', 'loc': ('response', 62, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9b20>}
  {'type': 'missing', 'loc': ('response', 63, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb620>}
  {'type': 'missing', 'loc': ('response', 64, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9af0>}
  {'type': 'missing', 'loc': ('response', 65, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9e20>}
  {'type': 'missing', 'loc': ('response', 66, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb6e0>}
  {'type': 'missing', 'loc': ('response', 67, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10add9df0>}
  {'type': 'missing', 'loc': ('response', 68, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda120>}
  {'type': 'missing', 'loc': ('response', 69, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb7a0>}
  {'type': 'missing', 'loc': ('response', 70, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda0f0>}
  {'type': 'missing', 'loc': ('response', 71, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda420>}
  {'type': 'missing', 'loc': ('response', 72, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb860>}
  {'type': 'missing', 'loc': ('response', 73, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda3f0>}
  {'type': 'missing', 'loc': ('response', 74, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb890>}
  {'type': 'missing', 'loc': ('response', 75, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda6c0>}
  {'type': 'missing', 'loc': ('response', 76, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda810>}
  {'type': 'missing', 'loc': ('response', 77, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda870>}
  {'type': 'missing', 'loc': ('response', 78, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda8d0>}
  {'type': 'missing', 'loc': ('response', 79, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda930>}
  {'type': 'missing', 'loc': ('response', 80, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda990>}
  {'type': 'missing', 'loc': ('response', 81, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda840>}
  {'type': 'missing', 'loc': ('response', 82, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda9f0>}
  {'type': 'missing', 'loc': ('response', 83, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaa50>}
  {'type': 'missing', 'loc': ('response', 84, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaab0>}
  {'type': 'missing', 'loc': ('response', 85, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addab10>}
  {'type': 'missing', 'loc': ('response', 86, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addab40>}
  {'type': 'missing', 'loc': ('response', 87, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addaba0>}
  {'type': 'missing', 'loc': ('response', 88, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addac00>}
  {'type': 'missing', 'loc': ('response', 89, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10adda7b0>}
  {'type': 'missing', 'loc': ('response', 90, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb8f0>}
  {'type': 'missing', 'loc': ('response', 91, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb950>}
  {'type': 'missing', 'loc': ('response', 92, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addb9b0>}
  {'type': 'missing', 'loc': ('response', 93, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addba10>}
  {'type': 'missing', 'loc': ('response', 94, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addba70>}
  {'type': 'missing', 'loc': ('response', 95, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addbad0>}
  {'type': 'missing', 'loc': ('response', 96, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addbb30>}
  {'type': 'missing', 'loc': ('response', 97, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addbb90>}
  {'type': 'missing', 'loc': ('response', 98, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addbbf0>}
  {'type': 'missing', 'loc': ('response', 99, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10addbc50>}

  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 15, in list_batches
    GET /batches/
INFO:     127.0.0.1:52624 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52717 - "GET /dashboard/summary HTTP/1.1" 404 Not Found
INFO:     Loading environment from 'app/.env'
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7176]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('127.0.0.1', 8000): [errno 48] address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     127.0.0.1:52734 - "GET /dashboard/summary HTTP/1.1" 404 Not Found
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [6922]
INFO:     Will watch for changes in these directories: ['/Users/djtaylor/Desktop/procguard']
INFO:     Loading environment from 'app/.env'
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [7304] using StatReload
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7307]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:52789 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 16, in get_dashboard_summary
    "total_batches": db.execute("SELECT COUNT(*) FROM batches").scalar(),
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT COUNT(*) FROM batc...' should be explicitly declared as text('SELECT COUNT(*) FROM batc...')
WARNING:  StatReload detected changes in 'app/api/dashboard.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7307]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7336]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/dashboard.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7336]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7343]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:52824 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "locked" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "locked" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 61, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2525, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 21, in get_dashboard_summary
    "locked_procedures": db.execute(
                         ^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2199, in _execute_internal
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 517, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2344, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "locked" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM procedures WHERE locked = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
WARNING:  StatReload detected changes in 'app/models/procedure.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7343]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7427]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/env.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7427]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7491]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/679e4d7ad3a0_add_locked_column_to_procedures_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7491]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7708]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7708]
INFO:     Stopping reloader process [7304]
INFO:     Will watch for changes in these directories: ['/Users/djtaylor/Desktop/procguard']
INFO:     Loading environment from 'app/.env'
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [7899] using StatReload
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [7901]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:53043 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:54343 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:54410 - "GET /batches/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 100 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e2a0>}
  {'type': 'missing', 'loc': ('response', 1, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229700>}
  {'type': 'missing', 'loc': ('response', 2, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082296d0>}
  {'type': 'missing', 'loc': ('response', 3, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082296a0>}
  {'type': 'missing', 'loc': ('response', 4, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229730>}
  {'type': 'missing', 'loc': ('response', 5, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229760>}
  {'type': 'missing', 'loc': ('response', 6, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229790>}
  {'type': 'missing', 'loc': ('response', 7, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082297c0>}
  {'type': 'missing', 'loc': ('response', 8, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082297f0>}
  {'type': 'missing', 'loc': ('response', 9, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229820>}
  {'type': 'missing', 'loc': ('response', 10, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229850>}
  {'type': 'missing', 'loc': ('response', 11, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229880>}
  {'type': 'missing', 'loc': ('response', 12, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082298b0>}
  {'type': 'missing', 'loc': ('response', 13, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082298e0>}
  {'type': 'missing', 'loc': ('response', 14, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229910>}
  {'type': 'missing', 'loc': ('response', 15, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229970>}
  {'type': 'missing', 'loc': ('response', 16, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1082299d0>}
  {'type': 'missing', 'loc': ('response', 17, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229a30>}
  {'type': 'missing', 'loc': ('response', 18, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229a90>}
  {'type': 'missing', 'loc': ('response', 19, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229af0>}
  {'type': 'missing', 'loc': ('response', 20, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229b50>}
  {'type': 'missing', 'loc': ('response', 21, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229bb0>}
  {'type': 'missing', 'loc': ('response', 22, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229c10>}
  {'type': 'missing', 'loc': ('response', 23, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229c70>}
  {'type': 'missing', 'loc': ('response', 24, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229cd0>}
  {'type': 'missing', 'loc': ('response', 25, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229d30>}
  {'type': 'missing', 'loc': ('response', 26, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229d90>}
  {'type': 'missing', 'loc': ('response', 27, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229df0>}
  {'type': 'missing', 'loc': ('response', 28, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229e50>}
  {'type': 'missing', 'loc': ('response', 29, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229eb0>}
  {'type': 'missing', 'loc': ('response', 30, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229f10>}
  {'type': 'missing', 'loc': ('response', 31, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229f70>}
  {'type': 'missing', 'loc': ('response', 32, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108229fd0>}
  {'type': 'missing', 'loc': ('response', 33, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a030>}
  {'type': 'missing', 'loc': ('response', 34, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a090>}
  {'type': 'missing', 'loc': ('response', 35, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a0f0>}
  {'type': 'missing', 'loc': ('response', 36, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a150>}
  {'type': 'missing', 'loc': ('response', 37, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a1b0>}
  {'type': 'missing', 'loc': ('response', 38, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a210>}
  {'type': 'missing', 'loc': ('response', 39, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a270>}
  {'type': 'missing', 'loc': ('response', 40, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a2d0>}
  {'type': 'missing', 'loc': ('response', 41, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a330>}
  {'type': 'missing', 'loc': ('response', 42, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a390>}
  {'type': 'missing', 'loc': ('response', 43, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a3f0>}
  {'type': 'missing', 'loc': ('response', 44, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a450>}
  {'type': 'missing', 'loc': ('response', 45, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a4b0>}
  {'type': 'missing', 'loc': ('response', 46, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a510>}
  {'type': 'missing', 'loc': ('response', 47, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a570>}
  {'type': 'missing', 'loc': ('response', 48, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a5d0>}
  {'type': 'missing', 'loc': ('response', 49, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a630>}
  {'type': 'missing', 'loc': ('response', 50, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a690>}
  {'type': 'missing', 'loc': ('response', 51, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a6f0>}
  {'type': 'missing', 'loc': ('response', 52, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a750>}
  {'type': 'missing', 'loc': ('response', 53, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a7b0>}
  {'type': 'missing', 'loc': ('response', 54, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a810>}
  {'type': 'missing', 'loc': ('response', 55, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a870>}
  {'type': 'missing', 'loc': ('response', 56, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a8d0>}
  {'type': 'missing', 'loc': ('response', 57, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a930>}
  {'type': 'missing', 'loc': ('response', 58, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a990>}
  {'type': 'missing', 'loc': ('response', 59, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822a9f0>}
  {'type': 'missing', 'loc': ('response', 60, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822aa50>}
  {'type': 'missing', 'loc': ('response', 61, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822aab0>}
  {'type': 'missing', 'loc': ('response', 62, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ab10>}
  {'type': 'missing', 'loc': ('response', 63, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ab70>}
  {'type': 'missing', 'loc': ('response', 64, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822abd0>}
  {'type': 'missing', 'loc': ('response', 65, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ac30>}
  {'type': 'missing', 'loc': ('response', 66, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ac90>}
  {'type': 'missing', 'loc': ('response', 67, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822acf0>}
  {'type': 'missing', 'loc': ('response', 68, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ad50>}
  {'type': 'missing', 'loc': ('response', 69, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822adb0>}
  {'type': 'missing', 'loc': ('response', 70, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ae10>}
  {'type': 'missing', 'loc': ('response', 71, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822ae70>}
  {'type': 'missing', 'loc': ('response', 72, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822aed0>}
  {'type': 'missing', 'loc': ('response', 73, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822af30>}
  {'type': 'missing', 'loc': ('response', 74, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822af90>}
  {'type': 'missing', 'loc': ('response', 75, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822aff0>}
  {'type': 'missing', 'loc': ('response', 76, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b050>}
  {'type': 'missing', 'loc': ('response', 77, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b0b0>}
  {'type': 'missing', 'loc': ('response', 78, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b110>}
  {'type': 'missing', 'loc': ('response', 79, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b170>}
  {'type': 'missing', 'loc': ('response', 80, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b1d0>}
  {'type': 'missing', 'loc': ('response', 81, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b230>}
  {'type': 'missing', 'loc': ('response', 82, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b290>}
  {'type': 'missing', 'loc': ('response', 83, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b2f0>}
  {'type': 'missing', 'loc': ('response', 84, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b350>}
  {'type': 'missing', 'loc': ('response', 85, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b3b0>}
  {'type': 'missing', 'loc': ('response', 86, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b410>}
  {'type': 'missing', 'loc': ('response', 87, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b470>}
  {'type': 'missing', 'loc': ('response', 88, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b4d0>}
  {'type': 'missing', 'loc': ('response', 89, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b530>}
  {'type': 'missing', 'loc': ('response', 90, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b590>}
  {'type': 'missing', 'loc': ('response', 91, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b5f0>}
  {'type': 'missing', 'loc': ('response', 92, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b650>}
  {'type': 'missing', 'loc': ('response', 93, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b6b0>}
  {'type': 'missing', 'loc': ('response', 94, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b710>}
  {'type': 'missing', 'loc': ('response', 95, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b770>}
  {'type': 'missing', 'loc': ('response', 96, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b7d0>}
  {'type': 'missing', 'loc': ('response', 97, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b830>}
  {'type': 'missing', 'loc': ('response', 98, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b890>}
  {'type': 'missing', 'loc': ('response', 99, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10822b8f0>}

  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 15, in list_batches
    GET /batches/
INFO:     127.0.0.1:54409 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54579 - "GET /batches/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 100 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813f1a0>}
  {'type': 'missing', 'loc': ('response', 1, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813c5f0>}
  {'type': 'missing', 'loc': ('response', 2, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813ef00>}
  {'type': 'missing', 'loc': ('response', 3, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e480>}
  {'type': 'missing', 'loc': ('response', 4, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e390>}
  {'type': 'missing', 'loc': ('response', 5, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e120>}
  {'type': 'missing', 'loc': ('response', 6, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813f290>}
  {'type': 'missing', 'loc': ('response', 7, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813faa0>}
  {'type': 'missing', 'loc': ('response', 8, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e030>}
  {'type': 'missing', 'loc': ('response', 9, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e270>}
  {'type': 'missing', 'loc': ('response', 10, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e840>}
  {'type': 'missing', 'loc': ('response', 11, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e5d0>}
  {'type': 'missing', 'loc': ('response', 12, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813f2f0>}
  {'type': 'missing', 'loc': ('response', 13, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e330>}
  {'type': 'missing', 'loc': ('response', 14, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e060>}
  {'type': 'missing', 'loc': ('response', 15, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813f230>}
  {'type': 'missing', 'loc': ('response', 16, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e8a0>}
  {'type': 'missing', 'loc': ('response', 17, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813fef0>}
  {'type': 'missing', 'loc': ('response', 18, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813d850>}
  {'type': 'missing', 'loc': ('response', 19, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e990>}
  {'type': 'missing', 'loc': ('response', 20, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e1e0>}
  {'type': 'missing', 'loc': ('response', 21, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813f2c0>}
  {'type': 'missing', 'loc': ('response', 22, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813ed50>}
  {'type': 'missing', 'loc': ('response', 23, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e420>}
  {'type': 'missing', 'loc': ('response', 24, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813cb60>}
  {'type': 'missing', 'loc': ('response', 25, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813ec60>}
  {'type': 'missing', 'loc': ('response', 26, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813fe00>}
  {'type': 'missing', 'loc': ('response', 27, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e600>}
  {'type': 'missing', 'loc': ('response', 28, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e2d0>}
  {'type': 'missing', 'loc': ('response', 29, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813e2a0>}
  {'type': 'missing', 'loc': ('response', 30, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813c260>}
  {'type': 'missing', 'loc': ('response', 31, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10813ea50>}
  {'type': 'missing', 'loc': ('response', 32, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d190>}
  {'type': 'missing', 'loc': ('response', 33, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d160>}
  {'type': 'missing', 'loc': ('response', 34, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c0b0>}
  {'type': 'missing', 'loc': ('response', 35, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c080>}
  {'type': 'missing', 'loc': ('response', 36, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c050>}
  {'type': 'missing', 'loc': ('response', 37, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c1a0>}
  {'type': 'missing', 'loc': ('response', 38, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c170>}
  {'type': 'missing', 'loc': ('response', 39, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c140>}
  {'type': 'missing', 'loc': ('response', 40, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c110>}
  {'type': 'missing', 'loc': ('response', 41, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c0e0>}
  {'type': 'missing', 'loc': ('response', 42, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c290>}
  {'type': 'missing', 'loc': ('response', 43, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c260>}
  {'type': 'missing', 'loc': ('response', 44, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c230>}
  {'type': 'missing', 'loc': ('response', 45, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c200>}
  {'type': 'missing', 'loc': ('response', 46, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c1d0>}
  {'type': 'missing', 'loc': ('response', 47, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c380>}
  {'type': 'missing', 'loc': ('response', 48, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c350>}
  {'type': 'missing', 'loc': ('response', 49, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c320>}
  {'type': 'missing', 'loc': ('response', 50, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c2f0>}
  {'type': 'missing', 'loc': ('response', 51, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c2c0>}
  {'type': 'missing', 'loc': ('response', 52, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c470>}
  {'type': 'missing', 'loc': ('response', 53, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c440>}
  {'type': 'missing', 'loc': ('response', 54, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c410>}
  {'type': 'missing', 'loc': ('response', 55, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c3e0>}
  {'type': 'missing', 'loc': ('response', 56, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c3b0>}
  {'type': 'missing', 'loc': ('response', 57, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c560>}
  {'type': 'missing', 'loc': ('response', 58, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c530>}
  {'type': 'missing', 'loc': ('response', 59, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c500>}
  {'type': 'missing', 'loc': ('response', 60, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c4d0>}
  {'type': 'missing', 'loc': ('response', 61, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c4a0>}
  {'type': 'missing', 'loc': ('response', 62, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c650>}
  {'type': 'missing', 'loc': ('response', 63, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c620>}
  {'type': 'missing', 'loc': ('response', 64, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c5f0>}
  {'type': 'missing', 'loc': ('response', 65, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c5c0>}
  {'type': 'missing', 'loc': ('response', 66, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c590>}
  {'type': 'missing', 'loc': ('response', 67, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c740>}
  {'type': 'missing', 'loc': ('response', 68, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c710>}
  {'type': 'missing', 'loc': ('response', 69, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c6e0>}
  {'type': 'missing', 'loc': ('response', 70, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c6b0>}
  {'type': 'missing', 'loc': ('response', 71, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c680>}
  {'type': 'missing', 'loc': ('response', 72, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c830>}
  {'type': 'missing', 'loc': ('response', 73, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c800>}
  {'type': 'missing', 'loc': ('response', 74, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c7d0>}
  {'type': 'missing', 'loc': ('response', 75, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c7a0>}
  {'type': 'missing', 'loc': ('response', 76, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c920>}
  {'type': 'missing', 'loc': ('response', 77, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828ca10>}
  {'type': 'missing', 'loc': ('response', 78, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c9b0>}
  {'type': 'missing', 'loc': ('response', 79, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828c950>}
  {'type': 'missing', 'loc': ('response', 80, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cad0>}
  {'type': 'missing', 'loc': ('response', 81, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828ca70>}
  {'type': 'missing', 'loc': ('response', 82, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cbf0>}
  {'type': 'missing', 'loc': ('response', 83, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cb90>}
  {'type': 'missing', 'loc': ('response', 84, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cb30>}
  {'type': 'missing', 'loc': ('response', 85, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828ccb0>}
  {'type': 'missing', 'loc': ('response', 86, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cc50>}
  {'type': 'missing', 'loc': ('response', 87, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cdd0>}
  {'type': 'missing', 'loc': ('response', 88, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cd70>}
  {'type': 'missing', 'loc': ('response', 89, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cd10>}
  {'type': 'missing', 'loc': ('response', 90, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828ce90>}
  {'type': 'missing', 'loc': ('response', 91, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828ce30>}
  {'type': 'missing', 'loc': ('response', 92, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cfb0>}
  {'type': 'missing', 'loc': ('response', 93, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cf50>}
  {'type': 'missing', 'loc': ('response', 94, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828cef0>}
  {'type': 'missing', 'loc': ('response', 95, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d070>}
  {'type': 'missing', 'loc': ('response', 96, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d010>}
  {'type': 'missing', 'loc': ('response', 97, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d2e0>}
  {'type': 'missing', 'loc': ('response', 98, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d400>}
  {'type': 'missing', 'loc': ('response', 99, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x10828d430>}

  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 15, in list_batches
    GET /batches/
INFO:     127.0.0.1:54578 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54590 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54591 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54590 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54592 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54597 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54597 - "GET /violations/c7bc5c0a-5f38-4a8f-b2fa-bd53521cfe7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:54602 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54608 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54618 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A36%3A11.010Z&to_ts=2026-01-07T14%3A36%3A11.010Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54619 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A36%3A11.035Z&to_ts=2026-01-07T14%3A36%3A11.035Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54618 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A36%3A11.010Z&to_ts=2026-01-07T14%3A36%3A11.010Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54620 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A36%3A11.035Z&to_ts=2026-01-07T14%3A36%3A11.035Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54620 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A36%3A12.914Z&to_ts=2026-01-07T14%3A36%3A12.914Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54618 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A36%3A12.914Z&to_ts=2026-01-07T14%3A36%3A12.914Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54628 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A37%3A08.208Z&to_ts=2026-01-07T14%3A37%3A08.208Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54628 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A37%3A08.208Z&to_ts=2026-01-07T14%3A37%3A08.208Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A37%3A10.126Z&to_ts=2026-01-07T14%3A37%3A10.126Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A37%3A10.126Z&to_ts=2026-01-07T14%3A37%3A10.126Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A11.677Z&to_ts=2026-01-07T14%3A37%3A11.677Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54632 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A11.677Z&to_ts=2026-01-07T14%3A37%3A11.677Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54632 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A12.743Z&to_ts=2026-01-07T14%3A37%3A12.743Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A12.743Z&to_ts=2026-01-07T14%3A37%3A12.743Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A13.363Z&to_ts=2026-01-07T14%3A37%3A13.363Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54632 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A13.363Z&to_ts=2026-01-07T14%3A37%3A13.363Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54632 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A13.983Z&to_ts=2026-01-07T14%3A37%3A13.983Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54631 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A13.983Z&to_ts=2026-01-07T14%3A37%3A13.983Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54633 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A18.377Z&to_ts=2026-01-07T14%3A37%3A18.377Z&project_id=Default+Project&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54633 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A18.377Z&to_ts=2026-01-07T14%3A37%3A18.377Z&project_id=Default+Project&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54635 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A20.392Z&to_ts=2026-01-07T14%3A37%3A20.392Z&project_id=Default+Project&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54635 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A20.392Z&to_ts=2026-01-07T14%3A37%3A20.392Z&project_id=Default+Project&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54635 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A21.190Z&to_ts=2026-01-07T14%3A37%3A21.190Z&project_id=Default+Project&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54636 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A21.190Z&to_ts=2026-01-07T14%3A37%3A21.190Z&project_id=Default+Project&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54636 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A21.884Z&to_ts=2026-01-07T14%3A37%3A21.884Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54635 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A21.884Z&to_ts=2026-01-07T14%3A37%3A21.884Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54635 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A22.711Z&to_ts=2026-01-07T14%3A37%3A22.711Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54636 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A37%3A22.711Z&to_ts=2026-01-07T14%3A37%3A22.711Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54638 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54664 - "GET /batches/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 100 validation errors:
  {'type': 'missing', 'loc': ('response', 0, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414e60>}
  {'type': 'missing', 'loc': ('response', 1, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414e00>}
  {'type': 'missing', 'loc': ('response', 2, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414da0>}
  {'type': 'missing', 'loc': ('response', 3, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414860>}
  {'type': 'missing', 'loc': ('response', 4, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084140b0>}
  {'type': 'missing', 'loc': ('response', 5, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084149e0>}
  {'type': 'missing', 'loc': ('response', 6, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414140>}
  {'type': 'missing', 'loc': ('response', 7, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414170>}
  {'type': 'missing', 'loc': ('response', 8, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084141a0>}
  {'type': 'missing', 'loc': ('response', 9, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084141d0>}
  {'type': 'missing', 'loc': ('response', 10, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414290>}
  {'type': 'missing', 'loc': ('response', 11, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414b60>}
  {'type': 'missing', 'loc': ('response', 12, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414080>}
  {'type': 'missing', 'loc': ('response', 13, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084140e0>}
  {'type': 'missing', 'loc': ('response', 14, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084142c0>}
  {'type': 'missing', 'loc': ('response', 15, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084142f0>}
  {'type': 'missing', 'loc': ('response', 16, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084143b0>}
  {'type': 'missing', 'loc': ('response', 17, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414ce0>}
  {'type': 'missing', 'loc': ('response', 18, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415370>}
  {'type': 'missing', 'loc': ('response', 19, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415340>}
  {'type': 'missing', 'loc': ('response', 20, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415310>}
  {'type': 'missing', 'loc': ('response', 21, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084152e0>}
  {'type': 'missing', 'loc': ('response', 22, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084153d0>}
  {'type': 'missing', 'loc': ('response', 23, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415400>}
  {'type': 'missing', 'loc': ('response', 24, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415430>}
  {'type': 'missing', 'loc': ('response', 25, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415460>}
  {'type': 'missing', 'loc': ('response', 26, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415490>}
  {'type': 'missing', 'loc': ('response', 27, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084154c0>}
  {'type': 'missing', 'loc': ('response', 28, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084154f0>}
  {'type': 'missing', 'loc': ('response', 29, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415520>}
  {'type': 'missing', 'loc': ('response', 30, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415550>}
  {'type': 'missing', 'loc': ('response', 31, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415580>}
  {'type': 'missing', 'loc': ('response', 32, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084155b0>}
  {'type': 'missing', 'loc': ('response', 33, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084155e0>}
  {'type': 'missing', 'loc': ('response', 34, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415610>}
  {'type': 'missing', 'loc': ('response', 35, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415640>}
  {'type': 'missing', 'loc': ('response', 36, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415670>}
  {'type': 'missing', 'loc': ('response', 37, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084156a0>}
  {'type': 'missing', 'loc': ('response', 38, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084156d0>}
  {'type': 'missing', 'loc': ('response', 39, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415700>}
  {'type': 'missing', 'loc': ('response', 40, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415730>}
  {'type': 'missing', 'loc': ('response', 41, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415760>}
  {'type': 'missing', 'loc': ('response', 42, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415790>}
  {'type': 'missing', 'loc': ('response', 43, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084157c0>}
  {'type': 'missing', 'loc': ('response', 44, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084157f0>}
  {'type': 'missing', 'loc': ('response', 45, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415820>}
  {'type': 'missing', 'loc': ('response', 46, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415850>}
  {'type': 'missing', 'loc': ('response', 47, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415880>}
  {'type': 'missing', 'loc': ('response', 48, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084158b0>}
  {'type': 'missing', 'loc': ('response', 49, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084158e0>}
  {'type': 'missing', 'loc': ('response', 50, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415910>}
  {'type': 'missing', 'loc': ('response', 51, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415940>}
  {'type': 'missing', 'loc': ('response', 52, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415970>}
  {'type': 'missing', 'loc': ('response', 53, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084159a0>}
  {'type': 'missing', 'loc': ('response', 54, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084159d0>}
  {'type': 'missing', 'loc': ('response', 55, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415a00>}
  {'type': 'missing', 'loc': ('response', 56, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415a30>}
  {'type': 'missing', 'loc': ('response', 57, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415a90>}
  {'type': 'missing', 'loc': ('response', 58, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415b20>}
  {'type': 'missing', 'loc': ('response', 59, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415b80>}
  {'type': 'missing', 'loc': ('response', 60, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084146e0>}
  {'type': 'missing', 'loc': ('response', 61, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084148c0>}
  {'type': 'missing', 'loc': ('response', 62, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415c40>}
  {'type': 'missing', 'loc': ('response', 63, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414890>}
  {'type': 'missing', 'loc': ('response', 64, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414bc0>}
  {'type': 'missing', 'loc': ('response', 65, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415d00>}
  {'type': 'missing', 'loc': ('response', 66, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414b90>}
  {'type': 'missing', 'loc': ('response', 67, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414fb0>}
  {'type': 'missing', 'loc': ('response', 68, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415dc0>}
  {'type': 'missing', 'loc': ('response', 69, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414f80>}
  {'type': 'missing', 'loc': ('response', 70, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415df0>}
  {'type': 'missing', 'loc': ('response', 71, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414320>}
  {'type': 'missing', 'loc': ('response', 72, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414440>}
  {'type': 'missing', 'loc': ('response', 73, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084144a0>}
  {'type': 'missing', 'loc': ('response', 74, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414500>}
  {'type': 'missing', 'loc': ('response', 75, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414fe0>}
  {'type': 'missing', 'loc': ('response', 76, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415040>}
  {'type': 'missing', 'loc': ('response', 77, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414470>}
  {'type': 'missing', 'loc': ('response', 78, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084150a0>}
  {'type': 'missing', 'loc': ('response', 79, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415100>}
  {'type': 'missing', 'loc': ('response', 80, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415160>}
  {'type': 'missing', 'loc': ('response', 81, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084151c0>}
  {'type': 'missing', 'loc': ('response', 82, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084151f0>}
  {'type': 'missing', 'loc': ('response', 83, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415250>}
  {'type': 'missing', 'loc': ('response', 84, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084152b0>}
  {'type': 'missing', 'loc': ('response', 85, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108414410>}
  {'type': 'missing', 'loc': ('response', 86, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415e50>}
  {'type': 'missing', 'loc': ('response', 87, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415eb0>}
  {'type': 'missing', 'loc': ('response', 88, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415f10>}
  {'type': 'missing', 'loc': ('response', 89, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415f70>}
  {'type': 'missing', 'loc': ('response', 90, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108415fd0>}
  {'type': 'missing', 'loc': ('response', 91, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416030>}
  {'type': 'missing', 'loc': ('response', 92, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416090>}
  {'type': 'missing', 'loc': ('response', 93, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084160f0>}
  {'type': 'missing', 'loc': ('response', 94, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416150>}
  {'type': 'missing', 'loc': ('response', 95, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084161b0>}
  {'type': 'missing', 'loc': ('response', 96, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416210>}
  {'type': 'missing', 'loc': ('response', 97, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416270>}
  {'type': 'missing', 'loc': ('response', 98, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x1084162d0>}
  {'type': 'missing', 'loc': ('response', 99, 'procedure_version'), 'msg': 'Field required', 'input': <app.models.batch.Batch object at 0x108416330>}

  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 15, in list_batches
    GET /batches/
INFO:     127.0.0.1:54663 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54691 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:54715 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:54722 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54723 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54722 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54724 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54727 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf/export/pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54834 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A42%3A14.852Z&to_ts=2026-01-07T14%3A42%3A14.852Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54835 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A42%3A14.854Z&to_ts=2026-01-07T14%3A42%3A14.854Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54835 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A42%3A14.854Z&to_ts=2026-01-07T14%3A42%3A14.854Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54834 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A42%3A14.852Z&to_ts=2026-01-07T14%3A42%3A14.852Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54834 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A42%3A16.656Z&to_ts=2026-01-07T14%3A42%3A16.656Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54835 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A42%3A16.656Z&to_ts=2026-01-07T14%3A42%3A16.656Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54838 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A42%3A21.683Z&to_ts=2026-01-07T14%3A42%3A21.683Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54838 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T14%3A42%3A21.683Z&to_ts=2026-01-07T14%3A42%3A21.683Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54838 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A42%3A22.458Z&to_ts=2026-01-07T14%3A42%3A22.458Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54839 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A42%3A22.458Z&to_ts=2026-01-07T14%3A42%3A22.458Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54841 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:54888 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54889 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54888 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54890 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:54892 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:54892 - "GET /violations/c7bc5c0a-5f38-4a8f-b2fa-bd53521cfe7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:54898 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A39.362Z&to_ts=2026-01-07T14%3A44%3A39.362Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54899 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A39.363Z&to_ts=2026-01-07T14%3A44%3A39.363Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54900 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A39.363Z&to_ts=2026-01-07T14%3A44%3A39.363Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54898 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A39.362Z&to_ts=2026-01-07T14%3A44%3A39.362Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54901 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A43.493Z&to_ts=2026-01-07T14%3A44%3A43.493Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54901 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A43.493Z&to_ts=2026-01-07T14%3A44%3A43.493Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54903 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A46.917Z&to_ts=2026-01-07T14%3A44%3A46.917Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:54903 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A46.917Z&to_ts=2026-01-07T14%3A44%3A46.917Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:54905 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A50.075Z&to_ts=2026-01-07T14%3A44%3A50.075Z&project_id=Default+Project&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:54905 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A50.075Z&to_ts=2026-01-07T14%3A44%3A50.075Z&project_id=Default+Project&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:54905 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A51.317Z&to_ts=2026-01-07T14%3A44%3A51.317Z&project_id=Default+Project&event_type=unknown&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:54906 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A51.317Z&to_ts=2026-01-07T14%3A44%3A51.317Z&project_id=Default+Project&event_type=unknown&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:54906 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A52.445Z&to_ts=2026-01-07T14%3A44%3A52.445Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54905 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T14%3A44%3A52.445Z&to_ts=2026-01-07T14%3A44%3A52.445Z&project_id=Default+Project&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:54905 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A54.919Z&to_ts=2026-01-07T14%3A44%3A54.919Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:54906 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T13%3A44%3A54.919Z&to_ts=2026-01-07T14%3A44%3A54.919Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:55488 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:55507 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55508 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55507 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55509 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55518 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:55644 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:55646 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55647 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55646 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55648 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55651 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55652 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55651 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55652 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55655 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf/export/pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55660 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:55660 - "POST /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:55665 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55666 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55665 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55667 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55673 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:55677 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:55797 - "GET /procedures/ HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7901]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [12740]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/seed_data.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [12740]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [13394]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55867 - "GET /procedures/ HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13394]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [14703]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14703]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [14870]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14870]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [15046]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15046]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [15220]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15220]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [15225]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/batch.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15225]
Process SpawnProcess-9:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline # Removed audit_logs
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 7, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/__init__.py", line 1, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 10, in <module>
    class Batch(Base):
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 15, in Batch
    procedure_version: Mapped[int] = mapped_column(Integer, nullable=False)
                                                   ^^^^^^^
NameError: name 'Integer' is not defined
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
Process SpawnProcess-10:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline # Removed audit_logs
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 7, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/__init__.py", line 1, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 10, in <module>
    class Batch(Base):
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 15, in Batch
    procedure_version: Mapped[int] = mapped_column(Integer, nullable=False)
                                                   ^^^^^^^
NameError: name 'Integer' is not defined
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
Process SpawnProcess-11:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline # Removed audit_logs
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 7, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/__init__.py", line 1, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 10, in <module>
    class Batch(Base):
  File "/Users/djtaylor/Desktop/procguard/app/models/batch.py", line 15, in Batch
    procedure_version: Mapped[int] = mapped_column(Integer, nullable=False)
                                                   ^^^^^^^
NameError: name 'Integer' is not defined
WARNING:  StatReload detected changes in 'app/models/batch.py'. Reloading...
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [16240]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/events.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16240]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [16417]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16417]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [16429]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/demo_flow_verification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16429]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [16436]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16436]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:32: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:71: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [16609]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:56039 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56052 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56060 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56061 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56060 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56062 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56068 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56081 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56083 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56084 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56083 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56085 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56081 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56081 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A53%3A18.663Z&to_ts=2026-01-07T15%3A53%3A18.663Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56089 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A53%3A18.664Z&to_ts=2026-01-07T15%3A53%3A18.664Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56089 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A53%3A18.664Z&to_ts=2026-01-07T15%3A53%3A18.664Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A53%3A18.663Z&to_ts=2026-01-07T15%3A53%3A18.663Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A53%3A20.777Z&to_ts=2026-01-07T15%3A53%3A20.777Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56089 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A53%3A20.777Z&to_ts=2026-01-07T15%3A53%3A20.777Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 8 validation errors:
  {'type': 'string_type', 'loc': ('response', 'items', 0, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 0, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 1, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 1, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 2, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 2, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 3, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 3, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}

  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 30, in get_audit_logs
    GET /audit/logs
INFO:     127.0.0.1:56178 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56196 - "GET /audit/logs?domain=SYSTEM&from_ts=2020-01-01T00:00:00Z&to_ts=2026-12-31T23:59:59Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 8 validation errors:
  {'type': 'string_type', 'loc': ('response', 'items', 0, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 0, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 1, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 1, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 2, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 2, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 3, 'event_type'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'items', 3, 'user_id'), 'msg': 'Input should be a valid string', 'input': None}

  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 30, in get_audit_logs
    GET /audit/logs
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16609]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [17508]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:56227 - "GET /audit/logs?domain=SYSTEM&from_ts=2020-01-01T00:00:00Z&to_ts=2026-12-31T23:59:59Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56287 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A57%3A54.192Z&to_ts=2026-01-07T15%3A57%3A54.192Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56287 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A57%3A54.192Z&to_ts=2026-01-07T15%3A57%3A54.192Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56354 - "GET /audit/logs?domain=SYSTEM&from_ts=2020-01-01T00:00:00Z&to_ts=2026-12-31T23:59:59Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56365 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A58%3A43.493Z&to_ts=2026-01-07T15%3A58%3A43.493Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56365 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T14%3A58%3A43.493Z&to_ts=2026-01-07T15%3A58%3A43.493Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56371 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A58%3A46.233Z&to_ts=2026-01-07T15%3A58%3A46.233Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56371 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T15%3A58%3A46.233Z&to_ts=2026-01-07T15%3A58%3A46.233Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56376 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56392 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56392 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56392 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56405 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56510 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56519 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56597 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56600 - "GET /violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56638 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56638 - "GET /violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56638 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56638 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56654 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56655 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56654 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56655 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56661 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56661 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56664 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A10.138Z&to_ts=2026-01-07T16%3A08%3A10.138Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56665 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A10.140Z&to_ts=2026-01-07T16%3A08%3A10.140Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56664 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A10.138Z&to_ts=2026-01-07T16%3A08%3A10.138Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56666 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A10.140Z&to_ts=2026-01-07T16%3A08%3A10.140Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56666 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A11.429Z&to_ts=2026-01-07T16%3A08%3A11.429Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56664 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A11.429Z&to_ts=2026-01-07T16%3A08%3A11.429Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56664 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A13.000Z&to_ts=2026-01-07T16%3A08%3A13.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56666 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A13.000Z&to_ts=2026-01-07T16%3A08%3A13.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56668 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A14.902Z&to_ts=2026-01-07T16%3A08%3A14.902Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56668 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A14.902Z&to_ts=2026-01-07T16%3A08%3A14.902Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56668 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A15.967Z&to_ts=2026-01-07T16%3A08%3A15.967Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56669 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A08%3A15.967Z&to_ts=2026-01-07T16%3A08%3A15.967Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A10.491Z&to_ts=2026-01-07T16%3A10%3A10.491Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A10.491Z&to_ts=2026-01-07T16%3A10%3A10.491Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-07T15%3A10%3A12.424Z&to_ts=2026-01-07T16%3A10%3A12.424Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56706 - "GET /audit/logs?domain=OPA&from_ts=2026-01-07T15%3A10%3A12.424Z&to_ts=2026-01-07T16%3A10%3A12.424Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56706 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A13.127Z&to_ts=2026-01-07T16%3A10%3A13.127Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A13.127Z&to_ts=2026-01-07T16%3A10%3A13.127Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-07T15%3A10%3A13.300Z&to_ts=2026-01-07T16%3A10%3A13.300Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56706 - "GET /audit/logs?domain=OPA&from_ts=2026-01-07T15%3A10%3A13.300Z&to_ts=2026-01-07T16%3A10%3A13.300Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56706 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A13.575Z&to_ts=2026-01-07T16%3A10%3A13.575Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56705 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A10%3A13.575Z&to_ts=2026-01-07T16%3A10%3A13.575Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56707 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A10%3A15.340Z&to_ts=2026-01-07T16%3A10%3A15.340Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56707 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A10%3A15.340Z&to_ts=2026-01-07T16%3A10%3A15.340Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56731 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A12%3A19.836Z&to_ts=2026-01-07T16%3A12%3A19.836Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56731 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A12%3A19.836Z&to_ts=2026-01-07T16%3A12%3A19.836Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56731 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A12%3A20.921Z&to_ts=2026-01-07T16%3A12%3A20.921Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56732 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A12%3A20.921Z&to_ts=2026-01-07T16%3A12%3A20.921Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56732 - "OPTIONS /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A12%3A21.901Z&to_ts=2026-01-07T16%3A12%3A21.901Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56731 - "GET /audit/logs?domain=OPA&from_ts=2026-01-06T16%3A12%3A21.901Z&to_ts=2026-01-07T16%3A12%3A21.901Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56731 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A12%3A23.310Z&to_ts=2026-01-07T16%3A12%3A23.310Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56732 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-06T16%3A12%3A23.310Z&to_ts=2026-01-07T16%3A12%3A23.310Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:56735 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56743 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56744 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56743 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56745 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56759 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56763 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56806 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A16%3A34.369Z&to_ts=2026-01-07T16%3A16%3A34.369Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56807 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A16%3A34.372Z&to_ts=2026-01-07T16%3A16%3A34.372Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56806 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A16%3A34.369Z&to_ts=2026-01-07T16%3A16%3A34.369Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56808 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A16%3A34.372Z&to_ts=2026-01-07T16%3A16%3A34.372Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56812 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56840 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A03.871Z&to_ts=2026-01-07T16%3A18%3A03.871Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56841 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A03.873Z&to_ts=2026-01-07T16%3A18%3A03.873Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56840 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A03.871Z&to_ts=2026-01-07T16%3A18%3A03.871Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56842 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A03.873Z&to_ts=2026-01-07T16%3A18%3A03.873Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:56863 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:56878 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56881 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56883 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56884 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56883 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56885 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56941 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56944 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56945 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56944 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56946 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56963 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56964 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56963 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56965 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57018 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57019 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57018 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57020 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57024 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:57027 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57028 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57027 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57029 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57444 - "GET /api/batch-timeline/0b218288-1825-4b2b-acfc-e6bd61798b6d/export/pdf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17508]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [23968]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:57484 - "POST /api/batch-timeline/0b218288-1825-4b2b-acfc-e6bd61798b6d/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:57507 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57507 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:57509 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf/export/pdf HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'app/api/batches.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [23968]
Process SpawnProcess-19:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 691, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/.venv/lib/python3.12/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.12/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline # Removed audit_logs
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 11, in <module>
    from app.core.timeline import generate_batch_timeline
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline.py", line 4, in <module>
    from app.models.timeline_tables import ProcedureStage, BatchStageEvent
ImportError: cannot import name 'ProcedureStage' from 'app.models.timeline_tables' (/Users/djtaylor/Desktop/procguard/app/models/timeline_tables.py)
bash: line 1:  7899 Killed: 9               uvicorn app.main:app --host 127.0.0.1 --port 8000 --env-file app/.env --reload
