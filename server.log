INFO:     Will watch for changes in these directories: ['/Users/djtaylor/Desktop/procguard']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [52209] using StatReload
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [52249]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59038 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:59084 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:59084 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52249]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53284]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53284]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53318]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/timeline_classification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53318]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53329]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53329]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53334]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53334]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53338]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53338]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53349]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53349]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53352]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59478 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:59480 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 23, in get_audit_timeline
    deviations = db.query(Deviation).filter(Deviation.batch_id == batch.batch_id).all()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}
[SQL: SELECT deviations.id AS deviations_id, deviations.batch_id AS deviations_batch_id, deviations.stage AS deviations_stage, deviations.deviation_type AS deviations_deviation_type, deviations.approved_by AS deviations_approved_by, deviations.approved_at AS deviations_approved_at, deviations.valid_from_day AS deviations_valid_from_day, deviations.valid_until_day AS deviations_valid_until_day, deviations.superseded_by_lir AS deviations_superseded_by_lir, deviations.resolved_at AS deviations_resolved_at 
FROM deviations 
WHERE deviations.batch_id = %s::UUID]
[parameters: (UUID('f1989a15-15ab-4981-9914-72ee6ba3addf'),)]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59480 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 23, in get_audit_timeline
    deviations = db.query(Deviation).filter(Deviation.batch_id == batch.batch_id).all()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42P01', 'M': 'relation "deviations" does not exist', 'P': '509', 'F': 'parse_relation.c', 'L': '1395', 'R': 'parserOpenTable'}
[SQL: SELECT deviations.id AS deviations_id, deviations.batch_id AS deviations_batch_id, deviations.stage AS deviations_stage, deviations.deviation_type AS deviations_deviation_type, deviations.approved_by AS deviations_approved_by, deviations.approved_at AS deviations_approved_at, deviations.valid_from_day AS deviations_valid_from_day, deviations.valid_until_day AS deviations_valid_until_day, deviations.superseded_by_lir AS deviations_superseded_by_lir, deviations.resolved_at AS deviations_resolved_at 
FROM deviations 
WHERE deviations.batch_id = %s::UUID]
[parameters: (UUID('f1989a15-15ab-4981-9914-72ee6ba3addf'),)]
(Background on this error at: https://sqlalche.me/e/20/f405)
WARNING:  StatReload detected changes in 'alembic/versions/c0c719f3674c_add_deviations_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53352]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53640]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/679e4d7ad3a0_add_locked_column_to_procedures_table.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53640]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [53722]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59567 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 65, in get_audit_timeline
    status = classify_timeline_cell(**cell_reality)
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 46, in classify_timeline_cell
    if is_deviation(stage_name, day, deviations or []):
       ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 10, in is_deviation
    dev_stage = getattr(dev, "stage", dev.get("stage")) if isinstance(dev, (object, dict)) else None
                                      ^^^^^^^
AttributeError: 'Deviation' object has no attribute 'get'
INFO:     127.0.0.1:59572 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 65, in get_audit_timeline
    status = classify_timeline_cell(**cell_reality)
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 46, in classify_timeline_cell
    if is_deviation(stage_name, day, deviations or []):
       ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 10, in is_deviation
    dev_stage = getattr(dev, "stage", dev.get("stage")) if isinstance(dev, (object, dict)) else None
                                      ^^^^^^^
AttributeError: 'Deviation' object has no attribute 'get'
INFO:     127.0.0.1:59575 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 65, in get_audit_timeline
    status = classify_timeline_cell(**cell_reality)
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 46, in classify_timeline_cell
    if is_deviation(stage_name, day, deviations or []):
       ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 10, in is_deviation
    dev_stage = getattr(dev, "stage", dev.get("stage")) if isinstance(dev, (object, dict)) else None
                                      ^^^^^^^
AttributeError: 'Deviation' object has no attribute 'get'
INFO:     127.0.0.1:59580 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 65, in get_audit_timeline
    status = classify_timeline_cell(**cell_reality)
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 46, in classify_timeline_cell
    if is_deviation(stage_name, day, deviations or []):
       ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline_classification.py", line 10, in is_deviation
    dev_stage = getattr(dev, "stage", dev.get("stage")) if isinstance(dev, (object, dict)) else None
                                      ^^^^^^^
AttributeError: 'Deviation' object has no attribute 'get'
WARNING:  StatReload detected changes in 'app/core/timeline_classification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53722]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [54982]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59598 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 149, in get_audit_timeline
    stages_data.append(AuditStage(name=name, cells=cells, markers=markers))
    ^^^^^^^^^^^
NameError: name 'stages_data' is not defined
INFO:     127.0.0.1:59602 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 149, in get_audit_timeline
    stages_data.append(AuditStage(name=name, cells=cells, markers=markers))
    ^^^^^^^^^^^
NameError: name 'stages_data' is not defined
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54982]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [55365]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59621 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:59627 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55365]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [55974]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59647 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55974]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [56145]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59709 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:59709 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56145]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [56753]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/timeline_classification.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56753]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [56759]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56759]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [56763]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56763]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [56770]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60001 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:60005 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'tests/test_timeline_logic.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56770]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [57191]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/test_timeline_logic.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57191]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [57289]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57289]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [57394]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57394]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [57397]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60060 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:60060 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:60077 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
    ...<3 lines>...
    )
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

  File "/Users/djtaylor/Desktop/procguard/app/api/violations.py", line 29, in get_violation
    GET /violations/{violation_id}
INFO:     127.0.0.1:60082 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
    ...<3 lines>...
    )
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

  File "/Users/djtaylor/Desktop/procguard/app/api/violations.py", line 29, in get_violation
    GET /violations/{violation_id}
INFO:     127.0.0.1:60235 - "GET /api/violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60240 - "GET /violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60244 - "GET /violations/00000000-0000-0000-0000-000000000002 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 215, in serialize_response
    raise ResponseValidationError(
    ...<3 lines>...
    )
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

  File "/Users/djtaylor/Desktop/procguard/app/api/violations.py", line 29, in get_violation
    GET /violations/{violation_id}
INFO:     127.0.0.1:60251 - "GET /violations/1989a15 HTTP/1.1" 422 Unprocessable Content
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57397]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [58624]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [58624]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [58630]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/04223a4eeaa2_upgrade_violation_model.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [58630]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [58806]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60313 - "GET /violations/00000000-0000-0000-0000-000000000002 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60328 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60328 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60353 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60368 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'tests/test_violation_safety.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [58806]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:78: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [59159]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [59159]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [59409]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60461 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60481 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52019 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [59409]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [68456]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68456]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [68488]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68488]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70534]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:52120 - "GET /violations/c9fec856-f808-48b6-9317-fe7e9f91c4aa HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'tests/test_violation_safety.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70534]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70567]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:52151 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52151 - "GET /violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52167 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52167 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52178 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52179 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52180 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52179 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52179 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52186 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52186 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52198 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52202 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52203 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52204 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52202 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52203 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52203 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52208 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52208 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52212 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A22%3A56.008Z&to_ts=2026-01-08T11%3A22%3A56.008Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52213 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A22%3A56.010Z&to_ts=2026-01-08T11%3A22%3A56.010Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52214 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A22%3A56.010Z&to_ts=2026-01-08T11%3A22%3A56.010Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 22, 56, 10000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 22, 56, 10000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52212 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A22%3A56.008Z&to_ts=2026-01-08T11%3A22%3A56.008Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 22, 56, 8000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 22, 56, 8000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70567]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70756]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70756]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70760]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70760]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70769]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/522452346b87_standardize_violation_status.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70769]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70873]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70873]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [70945]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:52430 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A55.900Z&to_ts=2026-01-08T11%3A29%3A55.900Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52430 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A55.900Z&to_ts=2026-01-08T11%3A29%3A55.900Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 29, 55, 900000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 29, 55, 900000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52435 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52444 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52449 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52453 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52454 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52453 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52455 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:52458 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52458 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52462 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A34.134Z&to_ts=2026-01-08T11%3A30%3A34.134Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52463 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A34.140Z&to_ts=2026-01-08T11%3A30%3A34.140Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52462 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A34.134Z&to_ts=2026-01-08T11%3A30%3A34.134Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 30, 34, 134000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 30, 34, 134000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52464 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A34.140Z&to_ts=2026-01-08T11%3A30%3A34.140Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 30, 34, 140000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 30, 34, 140000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52467 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A38.786Z&to_ts=2026-01-08T11%3A30%3A38.786Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:52467 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A38.786Z&to_ts=2026-01-08T11%3A30%3A38.786Z&client_id=API HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.client_id = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', 'API', datetime.datetime(2026, 1, 8, 10, 30, 38, 786000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 30, 38, 786000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52468 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A39.848Z&to_ts=2026-01-08T11%3A30%3A39.848Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:52468 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A39.848Z&to_ts=2026-01-08T11%3A30%3A39.848Z&client_id=API HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.client_id = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', 'API', datetime.datetime(2026, 1, 8, 10, 30, 39, 848000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 30, 39, 848000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52470 - "OPTIONS /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A41.151Z&to_ts=2026-01-08T11%3A30%3A41.151Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:52470 - "GET /audit/logs?domain=SYSTEM&from_ts=2026-01-08T10%3A30%3A41.151Z&to_ts=2026-01-08T11%3A30%3A41.151Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 10, 30, 41, 151000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 11, 30, 41, 151000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52473 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52824 - "GET /dashboard/summary HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 253, in execute
    self._context = self._c.execute_simple(operation)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 694, in execute_simple
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/dashboard.py", line 18, in get_dashboard_summary
    "open_violations": db.execute(
                       ~~~~~~~~~~^
        text("SELECT COUNT(*) FROM violations WHERE resolved = false")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).scalar(),
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2258, in _execute_internal
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "resolved" does not exist', 'P': '39', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT COUNT(*) FROM violations WHERE resolved = false]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56654 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56655 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56654 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:56656 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:56764 - "OPTIONS /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 200 OK
INFO:     127.0.0.1:56764 - "GET /api/batch-timeline/f1989a15-15ab-4981-9914-72ee6ba3addf HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70945]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76556]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/dashboard.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76556]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76561]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76561]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76569]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76569]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76574]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:56827 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:56827 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '354', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '354', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 129, in read_batch_timeline
    timeline = internal_get_batch_timeline(db, batch_id)
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 30, in internal_get_batch_timeline
    return generate_batch_timeline(db, batch)
  File "/Users/djtaylor/Desktop/procguard/app/core/timeline.py", line 18, in generate_batch_timeline
    logs = db.query(AuditLog).filter(AuditLog.batch_id == batch.batch_id).order_by(AuditLog.timestamp.asc()).all()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '354', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.batch_id = %s::UUID ORDER BY audit_logs.timestamp ASC]
[parameters: (UUID('f1989a15-15ab-4981-9914-72ee6ba3addf'),)]
(Background on this error at: https://sqlalche.me/e/20/f405)
WARNING:  StatReload detected changes in 'app/api/dashboard.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76574]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76678]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76678]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76702]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/batches.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76702]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [76821]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:56991 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:56998 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:56998 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57012 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57013 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57012 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57014 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57013 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57013 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57019 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57019 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57031 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57031 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57038 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T12%3A50%3A49.855Z&to_ts=2026-01-08T13%3A50%3A49.855Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57039 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T12%3A50%3A49.858Z&to_ts=2026-01-08T13%3A50%3A49.858Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57038 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T12%3A50%3A49.855Z&to_ts=2026-01-08T13%3A50%3A49.855Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 12, 50, 49, 855000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 13, 50, 49, 855000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57040 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T12%3A50%3A49.858Z&to_ts=2026-01-08T13%3A50%3A49.858Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 12, 50, 49, 858000, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 13, 50, 49, 858000, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57050 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57051 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57052 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57050 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57208 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57209 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57208 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57209 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57235 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57236 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57235 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57236 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
INFO:     127.0.0.1:57282 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57294 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit_timeline.py", line 178, in get_audit_timeline
    violation_id=UUID(viol_id) if viol_id else None,
                 ^^^^
NameError: name 'UUID' is not defined
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [76821]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [78388]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:57316 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57321 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T00:00:00Z&to_ts=2026-01-08T23:59:59Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 67, in get_audit_logs
    total = query.count()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 3146, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2835, in scalar
    ret = self.one()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2808, in one
    return self._iter().one()  # type: ignore
           ~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column audit_logs.prev_hash does not exist', 'P': '388', 'F': 'parse_relation.c', 'L': '3675', 'R': 'errorMissingColumn'}
[SQL: SELECT count(*) AS count_1 
FROM (SELECT audit_logs.id AS audit_logs_id, audit_logs.created_at AS audit_logs_created_at, audit_logs.source AS audit_logs_source, audit_logs.project_id AS audit_logs_project_id, audit_logs.event_type AS audit_logs_event_type, audit_logs.user_id AS audit_logs_user_id, audit_logs.client_id AS audit_logs_client_id, audit_logs.payload AS audit_logs_payload, audit_logs.prev_hash AS audit_logs_prev_hash, audit_logs.record_hash AS audit_logs_record_hash, audit_logs.actor AS audit_logs_actor, audit_logs.action AS audit_logs_action, audit_logs.result AS audit_logs_result, audit_logs.expected_state AS audit_logs_expected_state, audit_logs.actual_state AS audit_logs_actual_state, audit_logs.project AS audit_logs_project, audit_logs.timestamp AS audit_logs_timestamp, audit_logs.client AS audit_logs_client, audit_logs.agent AS audit_logs_agent, audit_logs.batch_id AS audit_logs_batch_id, audit_logs.violation_id AS audit_logs_violation_id 
FROM audit_logs 
WHERE audit_logs.source = %s::VARCHAR AND audit_logs.created_at >= %s::TIMESTAMP WITH TIME ZONE AND audit_logs.created_at <= %s::TIMESTAMP WITH TIME ZONE) AS anon_1]
[parameters: ('SYSTEM', datetime.datetime(2026, 1, 8, 0, 0, tzinfo=TzInfo(0)), datetime.datetime(2026, 1, 8, 23, 59, 59, tzinfo=TzInfo(0)))]
(Background on this error at: https://sqlalche.me/e/20/f405)
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78388]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [78832]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:57360 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T00:00:00Z&to_ts=2026-01-08T23:59:59Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57445 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57446 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57446 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57445 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57458 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:57469 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A02%3A58.577Z&to_ts=2026-01-08T14%3A02%3A58.577Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57470 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A02%3A58.580Z&to_ts=2026-01-08T14%3A02%3A58.580Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57469 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A02%3A58.577Z&to_ts=2026-01-08T14%3A02%3A58.577Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57471 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A02%3A58.580Z&to_ts=2026-01-08T14%3A02%3A58.580Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57473 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57479 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57480 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57481 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57479 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57502 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57503 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57504 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57502 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57508 - "GET /violations/00000000-0000-0000-0000-000000000014 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57524 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57525 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57524 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57526 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57542 - "GET /batches/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57548 - "OPTIONS /batches/2c22e905-604b-48c2-a90d-217eb4882cdb/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57548 - "GET /batches/2c22e905-604b-48c2-a90d-217eb4882cdb/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57548 - "OPTIONS /batches/2c22e905-604b-48c2-a90d-217eb4882cdb/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57549 - "GET /batches/2c22e905-604b-48c2-a90d-217eb4882cdb/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57567 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57567 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57577 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A08.382Z&to_ts=2026-01-08T14%3A04%3A08.382Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57578 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A08.383Z&to_ts=2026-01-08T14%3A04%3A08.383Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57577 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A08.382Z&to_ts=2026-01-08T14%3A04%3A08.382Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57579 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A08.383Z&to_ts=2026-01-08T14%3A04%3A08.383Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57579 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-08T13%3A04%3A10.333Z&to_ts=2026-01-08T14%3A04%3A10.333Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57577 - "GET /audit-logs?domain=OPA&from_ts=2026-01-08T13%3A04%3A10.333Z&to_ts=2026-01-08T14%3A04%3A10.333Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57577 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A11.149Z&to_ts=2026-01-08T14%3A04%3A11.149Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57579 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A11.149Z&to_ts=2026-01-08T14%3A04%3A11.149Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57579 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A12.215Z&to_ts=2026-01-08T14%3A04%3A12.215Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57577 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A12.215Z&to_ts=2026-01-08T14%3A04%3A12.215Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57585 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A13.629Z&to_ts=2026-01-08T14%3A04%3A13.629Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57585 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A13.629Z&to_ts=2026-01-08T14%3A04%3A13.629Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57587 - "GET /audit-logs/export?domain=SYSTEM&timeRange=last_1_hour HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:57599 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A17.445Z&to_ts=2026-01-08T14%3A04%3A17.445Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57599 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A04%3A17.445Z&to_ts=2026-01-08T14%3A04%3A17.445Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57604 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:57599 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57600 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57599 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57611 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57783 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57783 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:57802 - "GET /batches/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57802 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:57813 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A40.398Z&to_ts=2026-01-08T14%3A12%3A40.398Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57814 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A40.399Z&to_ts=2026-01-08T14%3A12%3A40.399Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57813 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A40.398Z&to_ts=2026-01-08T14%3A12%3A40.398Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57815 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A40.399Z&to_ts=2026-01-08T14%3A12%3A40.399Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57815 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-08T13%3A12%3A42.516Z&to_ts=2026-01-08T14%3A12%3A42.516Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57813 - "GET /audit-logs?domain=OPA&from_ts=2026-01-08T13%3A12%3A42.516Z&to_ts=2026-01-08T14%3A12%3A42.516Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57818 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A43.648Z&to_ts=2026-01-08T14%3A12%3A43.648Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:57818 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A12%3A43.648Z&to_ts=2026-01-08T14%3A12%3A43.648Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58071 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:58075 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58076 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58077 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58075 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58080 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58080 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58080 - "GET /violations/00000000-0000-0000-0000-000000000001 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58080 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58088 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58089 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58088 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58089 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58089 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A30.882Z&to_ts=2026-01-08T14%3A27%3A30.882Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58088 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A30.883Z&to_ts=2026-01-08T14%3A27%3A30.883Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58090 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A30.882Z&to_ts=2026-01-08T14%3A27%3A30.882Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58089 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A30.883Z&to_ts=2026-01-08T14%3A27%3A30.883Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58089 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A32.254Z&to_ts=2026-01-08T14%3A27%3A32.254Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58090 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T13%3A27%3A32.254Z&to_ts=2026-01-08T14%3A27%3A32.254Z&user_id=system HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/core/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78832]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:38: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:77: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [80953]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80953]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:89: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [80966]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit_timeline.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80966]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:89: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [80977]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80977]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:89: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [80991]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:58236 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A33%3A02.352Z&to_ts=2026-01-08T14%3A33%3A02.352Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58236 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A33%3A02.352Z&to_ts=2026-01-08T14%3A33%3A02.352Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58246 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58254 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T00:00:00Z&to_ts=2026-01-08T23:59:59Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58269 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58269 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58273 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58274 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58273 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58275 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58291 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58292 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58293 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58291 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58294 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:58452 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58453 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58452 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58454 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58559 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:58669 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:58671 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58672 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58671 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58673 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:58669 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58669 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:58673 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A57%3A04.463Z&to_ts=2026-01-08T14%3A57%3A04.463Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58671 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A57%3A04.464Z&to_ts=2026-01-08T14%3A57%3A04.464Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58673 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A57%3A04.464Z&to_ts=2026-01-08T14%3A57%3A04.464Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58672 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T14%3A57%3A04.463Z&to_ts=2026-01-08T14%3A57%3A04.463Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58718 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-01T15%3A00%3A40.192Z&to_ts=2026-01-08T15%3A00%3A40.192Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58718 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-01T15%3A00%3A40.192Z&to_ts=2026-01-08T15%3A00%3A40.192Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58721 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A41.749Z&to_ts=2026-01-08T15%3A00%3A41.749Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58721 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A41.749Z&to_ts=2026-01-08T15%3A00%3A41.749Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A46.411Z&to_ts=2026-01-08T15%3A00%3A46.411Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A46.411Z&to_ts=2026-01-08T15%3A00%3A46.411Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A47.469Z&to_ts=2026-01-08T15%3A00%3A47.469Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58725 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A47.469Z&to_ts=2026-01-08T15%3A00%3A47.469Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58725 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A48.536Z&to_ts=2026-01-08T15%3A00%3A48.536Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A48.536Z&to_ts=2026-01-08T15%3A00%3A48.536Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58724 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A49.853Z&to_ts=2026-01-08T15%3A00%3A49.853Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58725 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A49.853Z&to_ts=2026-01-08T15%3A00%3A49.853Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:58726 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A51.503Z&to_ts=2026-01-08T15%3A00%3A51.503Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58726 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A00%3A51.503Z&to_ts=2026-01-08T15%3A00%3A51.503Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58892 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=undefined&to_ts=undefined HTTP/1.1" 200 OK
INFO:     127.0.0.1:58892 - "GET /audit-logs?domain=SYSTEM&from_ts=undefined&to_ts=undefined HTTP/1.1" 422 Unprocessable Content
INFO:     127.0.0.1:58918 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A26.929Z&to_ts=2026-01-08T15%3A08%3A26.929Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58918 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A08%3A26.929Z&to_ts=2026-01-08T15%3A08%3A26.929Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58928 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T00:00:00Z&to_ts=2026-01-08T23:59:59Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58936 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A04.723Z&to_ts=2026-01-08T15%3A09%3A04.723Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58936 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A04.723Z&to_ts=2026-01-08T15%3A09%3A04.723Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58938 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A05.403Z&to_ts=2026-01-08T15%3A09%3A05.403Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58938 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A05.403Z&to_ts=2026-01-08T15%3A09%3A05.403Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58938 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A06.370Z&to_ts=2026-01-08T15%3A09%3A06.370Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58939 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A06.370Z&to_ts=2026-01-08T15%3A09%3A06.370Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58939 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A07.882Z&to_ts=2026-01-08T15%3A09%3A07.882Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58938 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A07.882Z&to_ts=2026-01-08T15%3A09%3A07.882Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:58945 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A10.587Z&to_ts=2026-01-08T15%3A09%3A10.587Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:58945 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A09%3A10.587Z&to_ts=2026-01-08T15%3A09%3A10.587Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [80991]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:39: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:89: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [83074]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83074]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [83310]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59132 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59132 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59132 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A15%3A16.984Z&to_ts=2026-01-08T15%3A15%3A16.984Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59133 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A15%3A16.984Z&to_ts=2026-01-08T15%3A15%3A16.984Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59145 - "GET /audit/filter-events/verify HTTP/1.1" 418 I'm a Teapot
WARNING:  StatReload detected changes in 'app/core/filter_audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83310]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [83451]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:59165 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59166 - "GET /audit/filter-events/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:59187 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59187 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59187 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A16%3A00.000Z&to_ts=2026-01-09T15%3A17%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59188 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A16%3A00.000Z&to_ts=2026-01-09T15%3A17%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59191 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59191 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59191 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A02%3A19.252Z&to_ts=2026-01-08T15%3A17%3A19.252Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59192 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A02%3A19.252Z&to_ts=2026-01-08T15%3A17%3A19.252Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59199 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59199 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59199 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A17%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59200 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A17%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59205 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:59210 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:59210 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:59210 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A13%3A00.000Z&to_ts=2026-01-08T15%3A18%3A00.000Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:59210 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A49.455Z&to_ts=2026-01-08T15%3A18%3A49.455Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59210 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A49.455Z&to_ts=2026-01-08T15%3A18%3A49.455Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59211 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59211 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59211 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A51.930Z&to_ts=2026-01-08T15%3A18%3A51.930Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59212 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A51.930Z&to_ts=2026-01-08T15%3A18%3A51.930Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59213 - "GET /audit-logs/export?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A53.481Z&to_ts=2026-01-08T15%3A18%3A53.481Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59224 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59224 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59224 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A57.057Z&to_ts=2026-01-08T15%3A18%3A57.057Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59225 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A57.057Z&to_ts=2026-01-08T15%3A18%3A57.057Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59225 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59224 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59224 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A59.091Z&to_ts=2026-01-08T15%3A18%3A59.091Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59225 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A18%3A59.091Z&to_ts=2026-01-08T15%3A18%3A59.091Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59230 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59230 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59230 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A19%3A01.148Z&to_ts=2026-01-08T15%3A19%3A01.148Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59231 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A19%3A01.148Z&to_ts=2026-01-08T15%3A19%3A01.148Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59243 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59243 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59243 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59244 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59246 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59246 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59246 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59246 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59245 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59246 - "GET /audit-logs?domain=OPA&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59248 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59248 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59248 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&event_type=unknown&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59249 - "GET /audit-logs?domain=OPA&from_ts=2026-01-08T15%3A09%3A00.000Z&to_ts=2026-01-08T15%3A19%3A00.000Z&event_type=unknown&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:59249 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59248 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:59248 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A19%3A42.322Z&to_ts=2026-01-08T15%3A19%3A42.322Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:59249 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A19%3A42.322Z&to_ts=2026-01-08T15%3A19%3A42.322Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83451]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85173]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85173]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85210]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85210]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85435]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85435]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85451]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85451]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85462]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85462]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85480]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60149 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60149 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60149 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A40%3A20.160Z&to_ts=2026-01-08T15%3A40%3A20.160Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60150 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A40%3A20.160Z&to_ts=2026-01-08T15%3A40%3A20.160Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60177 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60177 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A41%3A03.169Z&to_ts=2026-01-08T15%3A41%3A03.169Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60178 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A41%3A03.169Z&to_ts=2026-01-08T15%3A41%3A03.169Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60274 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60275 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60275 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60274 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60274 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A42%3A27.143Z&to_ts=2026-01-08T15%3A42%3A27.143Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60275 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A42%3A27.143Z&to_ts=2026-01-08T15%3A42%3A27.143Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/compliance.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85480]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85616]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60342 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60342 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60342 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A43%3A46.389Z&to_ts=2026-01-08T15%3A43%3A46.389Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60345 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A43%3A46.389Z&to_ts=2026-01-08T15%3A43%3A46.389Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85616]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [85690]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60383 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A46.704Z&to_ts=2026-01-08T15%3A44%3A46.704Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A46.704Z&to_ts=2026-01-08T15%3A44%3A46.704Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A48.802Z&to_ts=2026-01-08T15%3A44%3A48.802Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A48.802Z&to_ts=2026-01-08T15%3A44%3A48.802Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60383 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A49.474Z&to_ts=2026-01-08T15%3A44%3A49.474Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A49.474Z&to_ts=2026-01-08T15%3A44%3A49.474Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A50.626Z&to_ts=2026-01-08T15%3A44%3A50.626Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60387 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A50.626Z&to_ts=2026-01-08T15%3A44%3A50.626Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60387 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A52.469Z&to_ts=2026-01-08T15%3A44%3A52.469Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60387 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A52.469Z&to_ts=2026-01-08T15%3A44%3A52.469Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:60387 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60386 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A54.127Z&to_ts=2026-01-08T15%3A44%3A54.127Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60387 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A54.127Z&to_ts=2026-01-08T15%3A44%3A54.127Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60390 - "GET /audit-logs/export?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A54.926Z&to_ts=2026-01-08T15%3A44%3A54.926Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60399 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60400 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60401 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60399 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60399 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A57.643Z&to_ts=2026-01-08T15%3A44%3A57.643Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60401 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A44%3A57.643Z&to_ts=2026-01-08T15%3A44%3A57.643Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60401 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60399 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60399 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T15%3A44%3A59.007Z&to_ts=2026-01-08T15%3A44%3A59.007Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60401 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T15%3A44%3A59.007Z&to_ts=2026-01-08T15%3A44%3A59.007Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60406 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60406 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60406 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A45%3A00.025Z&to_ts=2026-01-08T15%3A45%3A00.025Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60407 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A45%3A00.025Z&to_ts=2026-01-08T15%3A45%3A00.025Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60407 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60406 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60433 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60434 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60436 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:60433 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:60433 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A45%3A10.370Z&to_ts=2026-01-08T15%3A45%3A10.370Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:60436 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T15%3A45%3A10.370Z&to_ts=2026-01-08T15%3A45%3A10.370Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85690]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [86667]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [86667]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [86679]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [86679]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [87247]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/transitions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87247]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
INFO:     Started server process [87308]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87308]
/Users/djtaylor/Desktop/procguard/app/api/audit.py:44: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
/Users/djtaylor/Desktop/procguard/app/api/audit.py:94: FastAPIDeprecationWarning: `regex` has been deprecated, please use `pattern` instead
  domain: str = Query(..., regex="^(SYSTEM|OPA)$"),
Process SpawnProcess-65:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 38, in <module>
    from app.api import audit
  File "/Users/djtaylor/Desktop/procguard/app/api/audit.py", line 132, in <module>
    violation_id: Optional[uuid.UUID] = Query(None),
                           ^^^^
NameError: name 'uuid' is not defined. Did you forget to import 'uuid'?
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Started server process [87340]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/test_forensic_chain.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87340]
INFO:     Started server process [87552]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/test_forensic_chain.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87552]
INFO:     Started server process [87840]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/test_forensic_chain.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [87840]
INFO:     Started server process [88006]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'scripts/test_forensic_chain.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88006]
INFO:     Started server process [88183]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/violations_handler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88183]
INFO:     Started server process [88607]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/transitions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88607]
INFO:     Started server process [88618]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/transitions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88618]
INFO:     Started server process [88805]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88805]
INFO:     Started server process [88997]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88997]
INFO:     Started server process [89004]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89004]
INFO:     Started server process [89015]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61319 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61319 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61319 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A19.716Z&to_ts=2026-01-08T16%3A11%3A19.716Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61320 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A19.716Z&to_ts=2026-01-08T16%3A11%3A19.716Z&project_id=Default+Project HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61331 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61331 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61331 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A26.448Z&to_ts=2026-01-08T16%3A11%3A26.448Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61332 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A26.448Z&to_ts=2026-01-08T16%3A11%3A26.448Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61338 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A28.708Z&to_ts=2026-01-08T16%3A11%3A28.708Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61339 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A28.708Z&to_ts=2026-01-08T16%3A11%3A28.708Z&project_id=Default+Project HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61338 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A29.361Z&to_ts=2026-01-08T16%3A11%3A29.361Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61343 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A29.361Z&to_ts=2026-01-08T16%3A11%3A29.361Z&project_id=Default+Project HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61338 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A11%3A30.907Z&to_ts=2026-01-08T16%3A11%3A30.907Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61346 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A11%3A30.907Z&to_ts=2026-01-08T16%3A11%3A30.907Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61346 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61338 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A32.172Z&to_ts=2026-01-08T16%3A11%3A32.172Z&project_id=Default+Project HTTP/1.1" 200 OK
INFO:     127.0.0.1:61346 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A32.172Z&to_ts=2026-01-08T16%3A11%3A32.172Z&project_id=Default+Project HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61350 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A36.541Z&to_ts=2026-01-08T16%3A11%3A36.541Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A36.541Z&to_ts=2026-01-08T16%3A11%3A36.541Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61350 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A37.570Z&to_ts=2026-01-08T16%3A11%3A37.570Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61353 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A37.570Z&to_ts=2026-01-08T16%3A11%3A37.570Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61350 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.153Z&to_ts=2026-01-08T16%3A11%3A38.153Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.153Z&to_ts=2026-01-08T16%3A11%3A38.153Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.552Z&to_ts=2026-01-08T16%3A11%3A38.552Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.552Z&to_ts=2026-01-08T16%3A11%3A38.552Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.703Z&to_ts=2026-01-08T16%3A11%3A38.703Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.703Z&to_ts=2026-01-08T16%3A11%3A38.703Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.868Z&to_ts=2026-01-08T16%3A11%3A38.868Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A38.868Z&to_ts=2026-01-08T16%3A11%3A38.868Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A40.934Z&to_ts=2026-01-08T16%3A11%3A40.934Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61361 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A40.934Z&to_ts=2026-01-08T16%3A11%3A40.934Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.101Z&to_ts=2026-01-08T16%3A11%3A41.101Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61362 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.101Z&to_ts=2026-01-08T16%3A11%3A41.101Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.285Z&to_ts=2026-01-08T16%3A11%3A41.285Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61363 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.285Z&to_ts=2026-01-08T16%3A11%3A41.285Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.434Z&to_ts=2026-01-08T16%3A11%3A41.434Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61364 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.434Z&to_ts=2026-01-08T16%3A11%3A41.434Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.618Z&to_ts=2026-01-08T16%3A11%3A41.618Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61365 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.618Z&to_ts=2026-01-08T16%3A11%3A41.618Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61355 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.784Z&to_ts=2026-01-08T16%3A11%3A41.784Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61366 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A11%3A41.784Z&to_ts=2026-01-08T16%3A11%3A41.784Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61450 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61450 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61450 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A15%3A32.889Z&to_ts=2026-01-08T16%3A15%3A32.889Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61450 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A15%3A32.889Z&to_ts=2026-01-08T16%3A15%3A32.889Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89015]
INFO:     Started server process [89410]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61489 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61489 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61489 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A15%3A52.683Z&to_ts=2026-01-08T16%3A15%3A52.683Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A15%3A52.683Z&to_ts=2026-01-08T16%3A15%3A52.683Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89410]
INFO:     Started server process [89509]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 723, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '22P02', 'M': 'invalid input syntax for type uuid: "ProcGuard Core"', 'W': "unnamed portal parameter $4 = '...'", 'F': 'uuid.c', 'L': '136', 'R': 'string_to_uuid'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '22P02', 'M': 'invalid input syntax for type uuid: "ProcGuard Core"', 'W': "unnamed portal parameter $4 = '...'", 'F': 'uuid.c', 'L': '136', 'R': 'string_to_uuid'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 18, in lifespan
    write_audit_log(
    ~~~~~~~~~~~~~~~^
        db=db,
        ^^^^^^
    ...<2 lines>...
        metadata={"version": "1.0.0"}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/djtaylor/Desktop/procguard/app/core/audit.py", line 39, in write_audit_log
    db.commit()
    ~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '22P02', 'M': 'invalid input syntax for type uuid: "ProcGuard Core"', 'W': "unnamed portal parameter $4 = '...'", 'F': 'uuid.c', 'L': '136', 'R': 'string_to_uuid'}
[SQL: INSERT INTO audit_logs (id, created_at, source, project_id, event_type, user_id, client_id, payload, actor, action, result, expected_state, actual_state, project, timestamp, client, agent, batch_id, violation_id) VALUES (%s::UUID, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::UUID, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::JSONB, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::VARCHAR, %s::UUID, %s::UUID)]
[parameters: (UUID('d24114f2-f151-4048-bcb2-55596ca59aed'), datetime.datetime(2026, 1, 8, 16, 16, 21, 808430, tzinfo=datetime.timezone.utc), 'SYSTEM', 'ProcGuard Core', None, None, 'API', '{"version": "1.0.0"}', 'system', 'SYSTEM_BOOT', 'SUCCESS', None, None, None, datetime.datetime(2026, 1, 8, 16, 16, 21, 808427, tzinfo=datetime.timezone.utc), None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'app/core/audit.py'. Reloading...
INFO:     Started server process [89517]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/f37f22480b2e_change_audit_logs_project_id_to_uuid.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89517]
INFO:     Started server process [90059]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'alembic/versions/f37f22480b2e_change_audit_logs_project_id_to_uuid.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [90059]
INFO:     Started server process [90142]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61594 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61595 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61595 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A17%3A37.279Z&to_ts=2026-01-08T16%3A17%3A37.279Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A17%3A37.279Z&to_ts=2026-01-08T16%3A17%3A37.279Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
INFO:     127.0.0.1:61610 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61612 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T00:00:00Z&to_ts=2026-01-09T00:00:00Z HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 221, in serialize_response
    return field.serialize(
           ~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<5 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/_compat/v2.py", line 197, in serialize
    return self._type_adapter.dump_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        value,
        ^^^^^^
    ...<6 lines>...
        exclude_none=exclude_none,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/type_adapter.py", line 605, in dump_python
    return self.serializer.to_python(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        instance,
        ^^^^^^^^^
    ...<12 lines>...
        context=context,
        ^^^^^^^^^^^^^^^^
    )
    ^
pydantic_core._pydantic_core.PydanticSerializationError: Unable to serialize unknown type: <class 'app.models.audit.AuditLog'>
WARNING:  StatReload detected changes in 'app/api/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [90142]
INFO:     Started server process [90470]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61631 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T00:00:00Z&to_ts=2026-01-09T00:00:00Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61649 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61649 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61649 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61651 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A32.036Z&to_ts=2026-01-08T16%3A18%3A32.036Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61651 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A32.036Z&to_ts=2026-01-08T16%3A18%3A32.036Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61660 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61660 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A35.821Z&to_ts=2026-01-08T16%3A18%3A35.821Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A35.821Z&to_ts=2026-01-08T16%3A18%3A35.821Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61660 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61660 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A37.043Z&to_ts=2026-01-08T16%3A18%3A37.043Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:61660 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A37.043Z&to_ts=2026-01-08T16%3A18%3A37.043Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A38.404Z&to_ts=2026-01-08T16%3A18%3A38.404Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A38.404Z&to_ts=2026-01-08T16%3A18%3A38.404Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A42.577Z&to_ts=2026-01-08T16%3A18%3A42.577Z&project_id=550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A42.577Z&to_ts=2026-01-08T16%3A18%3A42.577Z&project_id=550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A44.556Z&to_ts=2026-01-08T16%3A18%3A44.556Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A44.556Z&to_ts=2026-01-08T16%3A18%3A44.556Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A46.512Z&to_ts=2026-01-08T16%3A18%3A46.512Z&project_id=550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A46.512Z&to_ts=2026-01-08T16%3A18%3A46.512Z&project_id=550e8400-e29b-41d4-a716-446655440000 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61671 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61671 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A49.146Z&to_ts=2026-01-08T16%3A18%3A49.146Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A49.146Z&to_ts=2026-01-08T16%3A18%3A49.146Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61671 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61671 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A18%3A51.712Z&to_ts=2026-01-08T16%3A18%3A51.712Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61671 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A18%3A51.712Z&to_ts=2026-01-08T16%3A18%3A51.712Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61672 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61672 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61672 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61673 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61673 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A54.146Z&to_ts=2026-01-08T16%3A18%3A54.146Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61672 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A18%3A54.146Z&to_ts=2026-01-08T16%3A18%3A54.146Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61744 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61744 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61750 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61757 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61758 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61760 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61757 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61758 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61758 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61758 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61761 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61760 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61760 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A24%3A06.482Z&to_ts=2026-01-08T16%3A24%3A06.482Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A24%3A06.482Z&to_ts=2026-01-08T16%3A24%3A06.482Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61757 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61757 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A24%3A06.479Z&to_ts=2026-01-08T16%3A24%3A06.479Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A24%3A06.479Z&to_ts=2026-01-08T16%3A24%3A06.479Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61776 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61776 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61793 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:61799 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61800 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61799 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61801 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61811 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/pdf?eos_status=ON_TIME HTTP/1.1" 200 OK
INFO:     127.0.0.1:61820 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61820 - "POST /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61825 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61825 - "POST /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61825 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61826 - "POST /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:61833 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61836 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61833 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61833 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61837 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61836 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61836 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A25%3A52.436Z&to_ts=2026-01-08T16%3A25%3A52.436Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A25%3A52.436Z&to_ts=2026-01-08T16%3A25%3A52.436Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A25%3A52.438Z&to_ts=2026-01-08T16%3A25%3A52.438Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A25%3A52.438Z&to_ts=2026-01-08T16%3A25%3A52.438Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61839 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61839 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61844 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61845 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61846 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61844 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61839 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:61844 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61846 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61845 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61844 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61854 - "GET /dashboard/summary HTTP/1.1" 200 OK
INFO:     127.0.0.1:61857 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61858 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61859 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61857 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:61854 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61854 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61862 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61863 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61862 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61864 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61865 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61864 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61862 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61862 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61866 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61863 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:61865 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61864 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61865 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A09.250Z&to_ts=2026-01-08T16%3A26%3A09.250Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61864 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A09.258Z&to_ts=2026-01-08T16%3A26%3A09.258Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61863 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A09.250Z&to_ts=2026-01-08T16%3A26%3A09.250Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61865 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A09.258Z&to_ts=2026-01-08T16%3A26%3A09.258Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A16.971Z&to_ts=2026-01-08T16%3A26%3A16.971Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61868 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A16.971Z&to_ts=2026-01-08T16%3A26%3A16.971Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61868 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A17.904Z&to_ts=2026-01-08T16%3A26%3A17.904Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61868 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A17.904Z&to_ts=2026-01-08T16%3A26%3A17.904Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A18.520Z&to_ts=2026-01-08T16%3A26%3A18.520Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A18.520Z&to_ts=2026-01-08T16%3A26%3A18.520Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A18.670Z&to_ts=2026-01-08T16%3A26%3A18.670Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A18.670Z&to_ts=2026-01-08T16%3A26%3A18.670Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.221Z&to_ts=2026-01-08T16%3A26%3A20.221Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.221Z&to_ts=2026-01-08T16%3A26%3A20.221Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.370Z&to_ts=2026-01-08T16%3A26%3A20.370Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.370Z&to_ts=2026-01-08T16%3A26%3A20.370Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.537Z&to_ts=2026-01-08T16%3A26%3A20.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.537Z&to_ts=2026-01-08T16%3A26%3A20.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.687Z&to_ts=2026-01-08T16%3A26%3A20.687Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A20.687Z&to_ts=2026-01-08T16%3A26%3A20.687Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A21.304Z&to_ts=2026-01-08T16%3A26%3A21.304Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A21.304Z&to_ts=2026-01-08T16%3A26%3A21.304Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A21.954Z&to_ts=2026-01-08T16%3A26%3A21.954Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61870 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A21.954Z&to_ts=2026-01-08T16%3A26%3A21.954Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A23.939Z&to_ts=2026-01-08T16%3A26%3A23.939Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A23.939Z&to_ts=2026-01-08T16%3A26%3A23.939Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A25.275Z&to_ts=2026-01-08T16%3A26%3A25.275Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A25.275Z&to_ts=2026-01-08T16%3A26%3A25.275Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A26.023Z&to_ts=2026-01-08T16%3A26%3A26.023Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A26.023Z&to_ts=2026-01-08T16%3A26%3A26.023Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A26.816Z&to_ts=2026-01-08T16%3A26%3A26.816Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A26.816Z&to_ts=2026-01-08T16%3A26%3A26.816Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A27.424Z&to_ts=2026-01-08T16%3A26%3A27.424Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A27.424Z&to_ts=2026-01-08T16%3A26%3A27.424Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61872 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A28.331Z&to_ts=2026-01-08T16%3A26%3A28.331Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A28.331Z&to_ts=2026-01-08T16%3A26%3A28.331Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A29.064Z&to_ts=2026-01-08T16%3A26%3A29.064Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A29.064Z&to_ts=2026-01-08T16%3A26%3A29.064Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A29.877Z&to_ts=2026-01-08T16%3A26%3A29.877Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A29.877Z&to_ts=2026-01-08T16%3A26%3A29.877Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A30.913Z&to_ts=2026-01-08T16%3A26%3A30.913Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A30.913Z&to_ts=2026-01-08T16%3A26%3A30.913Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.488Z&to_ts=2026-01-08T16%3A26%3A31.488Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.488Z&to_ts=2026-01-08T16%3A26%3A31.488Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.722Z&to_ts=2026-01-08T16%3A26%3A31.722Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.722Z&to_ts=2026-01-08T16%3A26%3A31.722Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.871Z&to_ts=2026-01-08T16%3A26%3A31.871Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A31.871Z&to_ts=2026-01-08T16%3A26%3A31.871Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A32.051Z&to_ts=2026-01-08T16%3A26%3A32.051Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61874 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A32.051Z&to_ts=2026-01-08T16%3A26%3A32.051Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A33.522Z&to_ts=2026-01-08T16%3A26%3A33.522Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A33.522Z&to_ts=2026-01-08T16%3A26%3A33.522Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A34.071Z&to_ts=2026-01-08T16%3A26%3A34.071Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A34.071Z&to_ts=2026-01-08T16%3A26%3A34.071Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A34.203Z&to_ts=2026-01-08T16%3A26%3A34.203Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A34.203Z&to_ts=2026-01-08T16%3A26%3A34.203Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.084Z&to_ts=2026-01-08T16%3A26%3A35.084Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.084Z&to_ts=2026-01-08T16%3A26%3A35.084Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.674Z&to_ts=2026-01-08T16%3A26%3A35.674Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.674Z&to_ts=2026-01-08T16%3A26%3A35.674Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.979Z&to_ts=2026-01-08T16%3A26%3A35.979Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A35.979Z&to_ts=2026-01-08T16%3A26%3A35.979Z&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A36.648Z&to_ts=2026-01-08T16%3A26%3A36.648Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A36.648Z&to_ts=2026-01-08T16%3A26%3A36.648Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61877 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A37.886Z&to_ts=2026-01-08T16%3A26%3A37.886Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A37.886Z&to_ts=2026-01-08T16%3A26%3A37.886Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A39.179Z&to_ts=2026-01-08T16%3A26%3A39.179Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A39.179Z&to_ts=2026-01-08T16%3A26%3A39.179Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A39.763Z&to_ts=2026-01-08T16%3A26%3A39.763Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A39.763Z&to_ts=2026-01-08T16%3A26%3A39.763Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A40.529Z&to_ts=2026-01-08T16%3A26%3A40.529Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A40.529Z&to_ts=2026-01-08T16%3A26%3A40.529Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A41.606Z&to_ts=2026-01-08T16%3A26%3A41.606Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A41.606Z&to_ts=2026-01-08T16%3A26%3A41.606Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61878 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.138Z&to_ts=2026-01-08T16%3A26%3A43.138Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.138Z&to_ts=2026-01-08T16%3A26%3A43.138Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.704Z&to_ts=2026-01-08T16%3A26%3A43.704Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.704Z&to_ts=2026-01-08T16%3A26%3A43.704Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.887Z&to_ts=2026-01-08T16%3A26%3A43.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A43.887Z&to_ts=2026-01-08T16%3A26%3A43.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A44.054Z&to_ts=2026-01-08T16%3A26%3A44.054Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A44.054Z&to_ts=2026-01-08T16%3A26%3A44.054Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A44.604Z&to_ts=2026-01-08T16%3A26%3A44.604Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A44.604Z&to_ts=2026-01-08T16%3A26%3A44.604Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A45.022Z&to_ts=2026-01-08T16%3A26%3A45.022Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A45.022Z&to_ts=2026-01-08T16%3A26%3A45.022Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61882 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A45.206Z&to_ts=2026-01-08T16%3A26%3A45.206Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61883 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A26%3A45.206Z&to_ts=2026-01-08T16%3A26%3A45.206Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61944 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61944 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61944 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A02.822Z&to_ts=2026-01-08T16%3A27%3A02.822Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61945 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A02.822Z&to_ts=2026-01-08T16%3A27%3A02.822Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A03.672Z&to_ts=2026-01-08T16%3A27%3A03.672Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A03.672Z&to_ts=2026-01-08T16%3A27%3A03.672Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A03.871Z&to_ts=2026-01-08T16%3A27%3A03.871Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A03.871Z&to_ts=2026-01-08T16%3A27%3A03.871Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A04.787Z&to_ts=2026-01-08T16%3A27%3A04.787Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A04.787Z&to_ts=2026-01-08T16%3A27%3A04.787Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.188Z&to_ts=2026-01-08T16%3A27%3A05.188Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.188Z&to_ts=2026-01-08T16%3A27%3A05.188Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.504Z&to_ts=2026-01-08T16%3A27%3A05.504Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.504Z&to_ts=2026-01-08T16%3A27%3A05.504Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.803Z&to_ts=2026-01-08T16%3A27%3A05.803Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A05.803Z&to_ts=2026-01-08T16%3A27%3A05.803Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A06.320Z&to_ts=2026-01-08T16%3A27%3A06.320Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A06.320Z&to_ts=2026-01-08T16%3A27%3A06.320Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.205Z&to_ts=2026-01-08T16%3A27%3A07.205Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.205Z&to_ts=2026-01-08T16%3A27%3A07.205Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.436Z&to_ts=2026-01-08T16%3A27%3A07.436Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.436Z&to_ts=2026-01-08T16%3A27%3A07.436Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.671Z&to_ts=2026-01-08T16%3A27%3A07.671Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A07.671Z&to_ts=2026-01-08T16%3A27%3A07.671Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A08.070Z&to_ts=2026-01-08T16%3A27%3A08.070Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A08.070Z&to_ts=2026-01-08T16%3A27%3A08.070Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61946 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A08.421Z&to_ts=2026-01-08T16%3A27%3A08.421Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61947 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A08.421Z&to_ts=2026-01-08T16%3A27%3A08.421Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A14.688Z&to_ts=2026-01-08T16%3A27%3A14.688Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A14.688Z&to_ts=2026-01-08T16%3A27%3A14.688Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A14.954Z&to_ts=2026-01-08T16%3A27%3A14.954Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A14.954Z&to_ts=2026-01-08T16%3A27%3A14.954Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.221Z&to_ts=2026-01-08T16%3A27%3A15.221Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.221Z&to_ts=2026-01-08T16%3A27%3A15.221Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.571Z&to_ts=2026-01-08T16%3A27%3A15.571Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.571Z&to_ts=2026-01-08T16%3A27%3A15.571Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61949 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.804Z&to_ts=2026-01-08T16%3A27%3A15.804Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A15.804Z&to_ts=2026-01-08T16%3A27%3A15.804Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A19.653Z&to_ts=2026-01-08T16%3A27%3A19.653Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A19.653Z&to_ts=2026-01-08T16%3A27%3A19.653Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A20.411Z&to_ts=2026-01-08T16%3A27%3A20.411Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A20.411Z&to_ts=2026-01-08T16%3A27%3A20.411Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61952 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A21.013Z&to_ts=2026-01-08T16%3A27%3A21.013Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61951 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A21.013Z&to_ts=2026-01-08T16%3A27%3A21.013Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A24.355Z&to_ts=2026-01-08T16%3A27%3A24.355Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A24.355Z&to_ts=2026-01-08T16%3A27%3A24.355Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A24.871Z&to_ts=2026-01-08T16%3A27%3A24.871Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A24.871Z&to_ts=2026-01-08T16%3A27%3A24.871Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A25.731Z&to_ts=2026-01-08T16%3A27%3A25.731Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A25.731Z&to_ts=2026-01-08T16%3A27%3A25.731Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A26.867Z&to_ts=2026-01-08T16%3A27%3A26.867Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A26.867Z&to_ts=2026-01-08T16%3A27%3A26.867Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A27.545Z&to_ts=2026-01-08T16%3A27%3A27.545Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61954 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A27.545Z&to_ts=2026-01-08T16%3A27%3A27.545Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A29.229Z&to_ts=2026-01-08T16%3A27%3A29.229Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A29.229Z&to_ts=2026-01-08T16%3A27%3A29.229Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A30.005Z&to_ts=2026-01-08T16%3A27%3A30.005Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A30.005Z&to_ts=2026-01-08T16%3A27%3A30.005Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A30.538Z&to_ts=2026-01-08T16%3A27%3A30.538Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A30.538Z&to_ts=2026-01-08T16%3A27%3A30.538Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A31.171Z&to_ts=2026-01-08T16%3A27%3A31.171Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A31.171Z&to_ts=2026-01-08T16%3A27%3A31.171Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A32.279Z&to_ts=2026-01-08T16%3A27%3A32.279Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A32.279Z&to_ts=2026-01-08T16%3A27%3A32.279Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61956 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A33.104Z&to_ts=2026-01-08T16%3A27%3A33.104Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61957 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A33.104Z&to_ts=2026-01-08T16%3A27%3A33.104Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61958 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61958 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61958 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A33.554Z&to_ts=2026-01-08T16%3A27%3A33.554Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61959 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A33.554Z&to_ts=2026-01-08T16%3A27%3A33.554Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A39.887Z&to_ts=2026-01-08T16%3A27%3A39.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A39.887Z&to_ts=2026-01-08T16%3A27%3A39.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.454Z&to_ts=2026-01-08T16%3A27%3A40.454Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.454Z&to_ts=2026-01-08T16%3A27%3A40.454Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.688Z&to_ts=2026-01-08T16%3A27%3A40.688Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.688Z&to_ts=2026-01-08T16%3A27%3A40.688Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.887Z&to_ts=2026-01-08T16%3A27%3A40.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A40.887Z&to_ts=2026-01-08T16%3A27%3A40.887Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.404Z&to_ts=2026-01-08T16%3A27%3A41.404Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.404Z&to_ts=2026-01-08T16%3A27%3A41.404Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.721Z&to_ts=2026-01-08T16%3A27%3A41.721Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.721Z&to_ts=2026-01-08T16%3A27%3A41.721Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.987Z&to_ts=2026-01-08T16%3A27%3A41.987Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A41.987Z&to_ts=2026-01-08T16%3A27%3A41.987Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61961 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A42.204Z&to_ts=2026-01-08T16%3A27%3A42.204Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61962 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A42.204Z&to_ts=2026-01-08T16%3A27%3A42.204Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61967 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61967 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61967 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A46.103Z&to_ts=2026-01-08T16%3A27%3A46.103Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61968 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A46.103Z&to_ts=2026-01-08T16%3A27%3A46.103Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61969 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61969 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61969 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61970 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61970 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A50.953Z&to_ts=2026-01-08T16%3A27%3A50.953Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61969 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A27%3A50.953Z&to_ts=2026-01-08T16%3A27%3A50.953Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A54.247Z&to_ts=2026-01-08T16%3A27%3A54.247Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A54.247Z&to_ts=2026-01-08T16%3A27%3A54.247Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A55.286Z&to_ts=2026-01-08T16%3A27%3A55.286Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A55.286Z&to_ts=2026-01-08T16%3A27%3A55.286Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A55.854Z&to_ts=2026-01-08T16%3A27%3A55.854Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A55.854Z&to_ts=2026-01-08T16%3A27%3A55.854Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A56.187Z&to_ts=2026-01-08T16%3A27%3A56.187Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A56.187Z&to_ts=2026-01-08T16%3A27%3A56.187Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A57.574Z&to_ts=2026-01-08T16%3A27%3A57.574Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A57.574Z&to_ts=2026-01-08T16%3A27%3A57.574Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61972 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A57.920Z&to_ts=2026-01-08T16%3A27%3A57.920Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61971 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A27%3A57.920Z&to_ts=2026-01-08T16%3A27%3A57.920Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61973 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61973 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61973 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61974 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61974 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A00.880Z&to_ts=2026-01-08T16%3A28%3A00.880Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61973 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A00.880Z&to_ts=2026-01-08T16%3A28%3A00.880Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61976 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61976 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61976 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A07.187Z&to_ts=2026-01-08T16%3A28%3A07.187Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61977 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A07.187Z&to_ts=2026-01-08T16%3A28%3A07.187Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61978 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61978 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61978 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61979 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61979 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A28%3A11.214Z&to_ts=2026-01-08T16%3A28%3A11.214Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61978 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A28%3A11.214Z&to_ts=2026-01-08T16%3A28%3A11.214Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A28%3A14.554Z&to_ts=2026-01-08T16%3A28%3A14.554Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61981 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A28%3A14.554Z&to_ts=2026-01-08T16%3A28%3A14.554Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61981 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61981 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61981 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A17.496Z&to_ts=2026-01-08T16%3A28%3A17.496Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61980 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A17.496Z&to_ts=2026-01-08T16%3A28%3A17.496Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A18.670Z&to_ts=2026-01-08T16%3A28%3A18.670Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A18.670Z&to_ts=2026-01-08T16%3A28%3A18.670Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A20.899Z&to_ts=2026-01-08T16%3A28%3A20.899Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A20.899Z&to_ts=2026-01-08T16%3A28%3A20.899Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61985 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A22.621Z&to_ts=2026-01-08T16%3A28%3A22.621Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61986 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A22.621Z&to_ts=2026-01-08T16%3A28%3A22.621Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61988 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61988 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61988 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61989 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61989 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A28.205Z&to_ts=2026-01-08T16%3A28%3A28.205Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61988 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A28.205Z&to_ts=2026-01-08T16%3A28%3A28.205Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61990 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61990 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61990 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A29.620Z&to_ts=2026-01-08T16%3A28%3A29.620Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61991 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A29.620Z&to_ts=2026-01-08T16%3A28%3A29.620Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A35.331Z&to_ts=2026-01-08T16%3A28%3A35.331Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A35.331Z&to_ts=2026-01-08T16%3A28%3A35.331Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A36.570Z&to_ts=2026-01-08T16%3A28%3A36.570Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A36.570Z&to_ts=2026-01-08T16%3A28%3A36.570Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61993 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A38.386Z&to_ts=2026-01-08T16%3A28%3A38.386Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61992 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A38.386Z&to_ts=2026-01-08T16%3A28%3A38.386Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A39.670Z&to_ts=2026-01-08T16%3A28%3A39.670Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A39.670Z&to_ts=2026-01-08T16%3A28%3A39.670Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A39.920Z&to_ts=2026-01-08T16%3A28%3A39.920Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A28%3A39.920Z&to_ts=2026-01-08T16%3A28%3A39.920Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A41.964Z&to_ts=2026-01-08T16%3A28%3A41.964Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A41.964Z&to_ts=2026-01-08T16%3A28%3A41.964Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61995 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A43.286Z&to_ts=2026-01-08T16%3A28%3A43.286Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61994 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A43.286Z&to_ts=2026-01-08T16%3A28%3A43.286Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A43.937Z&to_ts=2026-01-08T16%3A28%3A43.937Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A43.937Z&to_ts=2026-01-08T16%3A28%3A43.937Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A44.739Z&to_ts=2026-01-08T16%3A28%3A44.739Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A44.739Z&to_ts=2026-01-08T16%3A28%3A44.739Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A45.437Z&to_ts=2026-01-08T16%3A28%3A45.437Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A45.437Z&to_ts=2026-01-08T16%3A28%3A45.437Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A45.754Z&to_ts=2026-01-08T16%3A28%3A45.754Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A45.754Z&to_ts=2026-01-08T16%3A28%3A45.754Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A47.063Z&to_ts=2026-01-08T16%3A28%3A47.063Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A47.063Z&to_ts=2026-01-08T16%3A28%3A47.063Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:61998 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A48.017Z&to_ts=2026-01-08T16%3A28%3A48.017Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:61999 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A48.017Z&to_ts=2026-01-08T16%3A28%3A48.017Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A48.613Z&to_ts=2026-01-08T16%3A28%3A48.613Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A48.613Z&to_ts=2026-01-08T16%3A28%3A48.613Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A49.287Z&to_ts=2026-01-08T16%3A28%3A49.287Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A49.287Z&to_ts=2026-01-08T16%3A28%3A49.287Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A49.505Z&to_ts=2026-01-08T16%3A28%3A49.505Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A49.505Z&to_ts=2026-01-08T16%3A28%3A49.505Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A51.278Z&to_ts=2026-01-08T16%3A28%3A51.278Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A51.278Z&to_ts=2026-01-08T16%3A28%3A51.278Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62003 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A51.745Z&to_ts=2026-01-08T16%3A28%3A51.745Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62002 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A51.745Z&to_ts=2026-01-08T16%3A28%3A51.745Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62005 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62005 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62005 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A57.323Z&to_ts=2026-01-08T16%3A28%3A57.323Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62006 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A57.323Z&to_ts=2026-01-08T16%3A28%3A57.323Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62006 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62005 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62005 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A57.524Z&to_ts=2026-01-08T16%3A28%3A57.524Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62006 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A28%3A57.524Z&to_ts=2026-01-08T16%3A28%3A57.524Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62007 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62007 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62007 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62008 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62008 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A59.485Z&to_ts=2026-01-08T16%3A28%3A59.485Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62007 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A28%3A59.485Z&to_ts=2026-01-08T16%3A28%3A59.485Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A04.092Z&to_ts=2026-01-08T16%3A29%3A04.092Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62010 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A04.092Z&to_ts=2026-01-08T16%3A29%3A04.092Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62010 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A05.725Z&to_ts=2026-01-08T16%3A29%3A05.725Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62010 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A05.725Z&to_ts=2026-01-08T16%3A29%3A05.725Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62010 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62009 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A06.092Z&to_ts=2026-01-08T16%3A29%3A06.092Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62010 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A06.092Z&to_ts=2026-01-08T16%3A29%3A06.092Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62012 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62012 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A21.541Z&to_ts=2026-01-08T16%3A29%3A21.541Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A21.541Z&to_ts=2026-01-08T16%3A29%3A21.541Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62012 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62012 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62011 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A23.209Z&to_ts=2026-01-08T16%3A29%3A23.209Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62012 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A23.209Z&to_ts=2026-01-08T16%3A29%3A23.209Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T16%3A14%3A24.504Z&to_ts=2026-01-08T16%3A29%3A24.504Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T16%3A14%3A24.504Z&to_ts=2026-01-08T16%3A29%3A24.504Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A26.589Z&to_ts=2026-01-08T16%3A29%3A26.589Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T15%3A29%3A26.589Z&to_ts=2026-01-08T16%3A29%3A26.589Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62015 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A28.089Z&to_ts=2026-01-08T16%3A29%3A28.089Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62014 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A28.089Z&to_ts=2026-01-08T16%3A29%3A28.089Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62018 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62018 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62018 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62019 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62019 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A29.555Z&to_ts=2026-01-08T16%3A29%3A29.555Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62018 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A29.555Z&to_ts=2026-01-08T16%3A29%3A29.555Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A34.158Z&to_ts=2026-01-08T16%3A29%3A34.158Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A34.158Z&to_ts=2026-01-08T16%3A29%3A34.158Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A35.611Z&to_ts=2026-01-08T16%3A29%3A35.611Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A35.611Z&to_ts=2026-01-08T16%3A29%3A35.611Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62022 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A37.810Z&to_ts=2026-01-08T16%3A29%3A37.810Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62021 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A37.810Z&to_ts=2026-01-08T16%3A29%3A37.810Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A39.638Z&to_ts=2026-01-08T16%3A29%3A39.638Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A39.638Z&to_ts=2026-01-08T16%3A29%3A39.638Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2025-12-09T16%3A29%3A41.087Z&to_ts=2026-01-08T16%3A29%3A41.087Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "GET /audit-logs?domain=SYSTEM&from_ts=2025-12-09T16%3A29%3A41.087Z&to_ts=2026-01-08T16%3A29%3A41.087Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62024 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A42.367Z&to_ts=2026-01-08T16%3A29%3A42.367Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62023 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T10%3A29%3A42.367Z&to_ts=2026-01-08T16%3A29%3A42.367Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A44.706Z&to_ts=2026-01-08T16%3A29%3A44.706Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A44.706Z&to_ts=2026-01-08T16%3A29%3A44.706Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A45.778Z&to_ts=2026-01-08T16%3A29%3A45.778Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A45.778Z&to_ts=2026-01-08T16%3A29%3A45.778Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A46.779Z&to_ts=2026-01-08T16%3A29%3A46.779Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A46.779Z&to_ts=2026-01-08T16%3A29%3A46.779Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A46.995Z&to_ts=2026-01-08T16%3A29%3A46.995Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A46.995Z&to_ts=2026-01-08T16%3A29%3A46.995Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A47.179Z&to_ts=2026-01-08T16%3A29%3A47.179Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A47.179Z&to_ts=2026-01-08T16%3A29%3A47.179Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A47.979Z&to_ts=2026-01-08T16%3A29%3A47.979Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A47.979Z&to_ts=2026-01-08T16%3A29%3A47.979Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62031 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A48.462Z&to_ts=2026-01-08T16%3A29%3A48.462Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62030 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A48.462Z&to_ts=2026-01-08T16%3A29%3A48.462Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62034 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62034 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62034 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A48.646Z&to_ts=2026-01-08T16%3A29%3A48.646Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62035 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-08T04%3A29%3A48.646Z&to_ts=2026-01-08T16%3A29%3A48.646Z&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62036 - "GET /audit/filter-events/export?screen=AUDIT_LOGS&from_ts=2026-01-08T04%3A29%3A51.046Z&to_ts=2026-01-08T16%3A29%3A51.046Z HTTP/1.1" 409 Conflict
INFO:     127.0.0.1:62045 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62045 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62045 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A53.984Z&to_ts=2026-01-08T16%3A29%3A53.984Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A53.984Z&to_ts=2026-01-08T16%3A29%3A53.984Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A55.651Z&to_ts=2026-01-08T16%3A29%3A55.651Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A55.651Z&to_ts=2026-01-08T16%3A29%3A55.651Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A56.439Z&to_ts=2026-01-08T16%3A29%3A56.439Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A56.439Z&to_ts=2026-01-08T16%3A29%3A56.439Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62047 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A56.989Z&to_ts=2026-01-08T16%3A29%3A56.989Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62046 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A56.989Z&to_ts=2026-01-08T16%3A29%3A56.989Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A59.343Z&to_ts=2026-01-08T16%3A29%3A59.343Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A29%3A59.343Z&to_ts=2026-01-08T16%3A29%3A59.343Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A00.082Z&to_ts=2026-01-08T16%3A30%3A00.082Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A00.082Z&to_ts=2026-01-08T16%3A30%3A00.082Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62052 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A00.737Z&to_ts=2026-01-08T16%3A30%3A00.737Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62051 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A00.737Z&to_ts=2026-01-08T16%3A30%3A00.737Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A03.677Z&to_ts=2026-01-08T16%3A30%3A03.677Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A03.677Z&to_ts=2026-01-08T16%3A30%3A03.677Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.420Z&to_ts=2026-01-08T16%3A30%3A04.420Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.420Z&to_ts=2026-01-08T16%3A30%3A04.420Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.708Z&to_ts=2026-01-08T16%3A30%3A04.708Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.708Z&to_ts=2026-01-08T16%3A30%3A04.708Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.899Z&to_ts=2026-01-08T16%3A30%3A04.899Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A04.899Z&to_ts=2026-01-08T16%3A30%3A04.899Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.137Z&to_ts=2026-01-08T16%3A30%3A05.137Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.137Z&to_ts=2026-01-08T16%3A30%3A05.137Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.342Z&to_ts=2026-01-08T16%3A30%3A05.342Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.342Z&to_ts=2026-01-08T16%3A30%3A05.342Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.774Z&to_ts=2026-01-08T16%3A30%3A05.774Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A05.774Z&to_ts=2026-01-08T16%3A30%3A05.774Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A06.256Z&to_ts=2026-01-08T16%3A30%3A06.256Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62056 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A30%3A06.256Z&to_ts=2026-01-08T16%3A30%3A06.256Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62058 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62058 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62058 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A13.475Z&to_ts=2026-01-08T16%3A30%3A13.475Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A13.475Z&to_ts=2026-01-08T16%3A30%3A13.475Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A15.750Z&to_ts=2026-01-08T16%3A30%3A15.750Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A15.750Z&to_ts=2026-01-08T16%3A30%3A15.750Z&event_type=unknown HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A16.781Z&to_ts=2026-01-08T16%3A30%3A16.781Z&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A16.781Z&to_ts=2026-01-08T16%3A30%3A16.781Z&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62059 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A17.830Z&to_ts=2026-01-08T16%3A30%3A17.830Z&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62060 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A17.830Z&to_ts=2026-01-08T16%3A30%3A17.830Z&event_type=unknown&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A18.725Z&to_ts=2026-01-08T16%3A30%3A18.725Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A18.725Z&to_ts=2026-01-08T16%3A30%3A18.725Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A19.541Z&to_ts=2026-01-08T16%3A30%3A19.541Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A19.541Z&to_ts=2026-01-08T16%3A30%3A19.541Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A20.479Z&to_ts=2026-01-08T16%3A30%3A20.479Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A20.479Z&to_ts=2026-01-08T16%3A30%3A20.479Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A21.036Z&to_ts=2026-01-08T16%3A30%3A21.036Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A21.036Z&to_ts=2026-01-08T16%3A30%3A21.036Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A21.207Z&to_ts=2026-01-08T16%3A30%3A21.207Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A21.207Z&to_ts=2026-01-08T16%3A30%3A21.207Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A22.242Z&to_ts=2026-01-08T16%3A30%3A22.242Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A22.242Z&to_ts=2026-01-08T16%3A30%3A22.242Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62062 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A23.207Z&to_ts=2026-01-08T16%3A30%3A23.207Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62061 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A23.207Z&to_ts=2026-01-08T16%3A30%3A23.207Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A23.743Z&to_ts=2026-01-08T16%3A30%3A23.743Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A23.743Z&to_ts=2026-01-08T16%3A30%3A23.743Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62064 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A25.359Z&to_ts=2026-01-08T16%3A30%3A25.359Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A25.359Z&to_ts=2026-01-08T16%3A30%3A25.359Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62067 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62067 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62067 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62068 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62068 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-01T16%3A30%3A29.659Z&to_ts=2026-01-08T16%3A30%3A29.659Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62067 - "GET /audit-logs?domain=OPA&from_ts=2026-01-01T16%3A30%3A29.659Z&to_ts=2026-01-08T16%3A30%3A29.659Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62070 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62070 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62070 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62071 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62071 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A34.511Z&to_ts=2026-01-08T16%3A30%3A34.511Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62070 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A34.511Z&to_ts=2026-01-08T16%3A30%3A34.511Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62072 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62072 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62072 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A43.235Z&to_ts=2026-01-08T16%3A30%3A43.235Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62073 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A43.235Z&to_ts=2026-01-08T16%3A30%3A43.235Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62078 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62078 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62078 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A58.419Z&to_ts=2026-01-08T16%3A30%3A58.419Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62079 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A58.419Z&to_ts=2026-01-08T16%3A30%3A58.419Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A58.918Z&to_ts=2026-01-08T16%3A30%3A58.918Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A58.918Z&to_ts=2026-01-08T16%3A30%3A58.918Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A59.734Z&to_ts=2026-01-08T16%3A30%3A59.734Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A30%3A59.734Z&to_ts=2026-01-08T16%3A30%3A59.734Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A01.936Z&to_ts=2026-01-08T16%3A31%3A01.936Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A01.936Z&to_ts=2026-01-08T16%3A31%3A01.936Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A02.136Z&to_ts=2026-01-08T16%3A31%3A02.136Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A02.136Z&to_ts=2026-01-08T16%3A31%3A02.136Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62080 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A03.435Z&to_ts=2026-01-08T16%3A31%3A03.435Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62081 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A03.435Z&to_ts=2026-01-08T16%3A31%3A03.435Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62082 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62082 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62082 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A04.535Z&to_ts=2026-01-08T16%3A31%3A04.535Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62083 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A04.535Z&to_ts=2026-01-08T16%3A31%3A04.535Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62083 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62082 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62082 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A07.051Z&to_ts=2026-01-08T16%3A31%3A07.051Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62083 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A07.051Z&to_ts=2026-01-08T16%3A31%3A07.051Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A09.552Z&to_ts=2026-01-08T16%3A31%3A09.552Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62085 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A09.552Z&to_ts=2026-01-08T16%3A31%3A09.552Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62085 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A10.353Z&to_ts=2026-01-08T16%3A31%3A10.353Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62085 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A10.353Z&to_ts=2026-01-08T16%3A31%3A10.353Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A14.453Z&to_ts=2026-01-08T16%3A31%3A14.453Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A14.453Z&to_ts=2026-01-08T16%3A31%3A14.453Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A14.919Z&to_ts=2026-01-08T16%3A31%3A14.919Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A14.919Z&to_ts=2026-01-08T16%3A31%3A14.919Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A15.861Z&to_ts=2026-01-08T16%3A31%3A15.861Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A15.861Z&to_ts=2026-01-08T16%3A31%3A15.861Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62087 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A16.969Z&to_ts=2026-01-08T16%3A31%3A16.969Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62086 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A16.969Z&to_ts=2026-01-08T16%3A31%3A16.969Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62088 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62088 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62088 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A18.701Z&to_ts=2026-01-08T16%3A31%3A18.701Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62089 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A18.701Z&to_ts=2026-01-08T16%3A31%3A18.701Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62089 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62088 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62088 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A20.586Z&to_ts=2026-01-08T16%3A31%3A20.586Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62089 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A20.586Z&to_ts=2026-01-08T16%3A31%3A20.586Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62091 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62091 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62091 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A26.068Z&to_ts=2026-01-08T16%3A31%3A26.068Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62092 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A26.068Z&to_ts=2026-01-08T16%3A31%3A26.068Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62094 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62094 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A29.068Z&to_ts=2026-01-08T16%3A31%3A29.068Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A29.068Z&to_ts=2026-01-08T16%3A31%3A29.068Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62094 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62094 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62093 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A29.777Z&to_ts=2026-01-08T16%3A31%3A29.777Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62094 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A29.777Z&to_ts=2026-01-08T16%3A31%3A29.777Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62098 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62098 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A35.643Z&to_ts=2026-01-08T16%3A31%3A35.643Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A35.643Z&to_ts=2026-01-08T16%3A31%3A35.643Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62098 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62098 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62097 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A36.043Z&to_ts=2026-01-08T16%3A31%3A36.043Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62098 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A36.043Z&to_ts=2026-01-08T16%3A31%3A36.043Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62102 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62102 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62102 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62103 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62103 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A42.980Z&to_ts=2026-01-08T16%3A31%3A42.980Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62102 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A42.980Z&to_ts=2026-01-08T16%3A31%3A42.980Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62104 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62104 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62104 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62105 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62105 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A44.211Z&to_ts=2026-01-08T16%3A31%3A44.211Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62104 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A31%3A44.211Z&to_ts=2026-01-08T16%3A31%3A44.211Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62114 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62114 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A31.586Z&to_ts=2026-01-08T16%3A32%3A31.586Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A31.586Z&to_ts=2026-01-08T16%3A32%3A31.586Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62114 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62114 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62113 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A32.244Z&to_ts=2026-01-08T16%3A32%3A32.244Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62114 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A32.244Z&to_ts=2026-01-08T16%3A32%3A32.244Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A34.681Z&to_ts=2026-01-08T16%3A32%3A34.681Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A34.681Z&to_ts=2026-01-08T16%3A32%3A34.681Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.215Z&to_ts=2026-01-08T16%3A32%3A35.215Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.215Z&to_ts=2026-01-08T16%3A32%3A35.215Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.393Z&to_ts=2026-01-08T16%3A32%3A35.393Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.393Z&to_ts=2026-01-08T16%3A32%3A35.393Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.830Z&to_ts=2026-01-08T16%3A32%3A35.830Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A35.830Z&to_ts=2026-01-08T16%3A32%3A35.830Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A36.376Z&to_ts=2026-01-08T16%3A32%3A36.376Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A36.376Z&to_ts=2026-01-08T16%3A32%3A36.376Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A36.943Z&to_ts=2026-01-08T16%3A32%3A36.943Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A36.943Z&to_ts=2026-01-08T16%3A32%3A36.943Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A37.560Z&to_ts=2026-01-08T16%3A32%3A37.560Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A37.560Z&to_ts=2026-01-08T16%3A32%3A37.560Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62117 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A38.114Z&to_ts=2026-01-08T16%3A32%3A38.114Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62118 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A32%3A38.114Z&to_ts=2026-01-08T16%3A32%3A38.114Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62137 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62137 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62137 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A01.152Z&to_ts=2026-01-08T16%3A33%3A01.152Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62138 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A01.152Z&to_ts=2026-01-08T16%3A33%3A01.152Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62141 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62141 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62141 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62142 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62142 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A28.054Z&to_ts=2026-01-08T16%3A33%3A28.054Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62141 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A28.054Z&to_ts=2026-01-08T16%3A33%3A28.054Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A28.661Z&to_ts=2026-01-08T16%3A33%3A28.661Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A28.661Z&to_ts=2026-01-08T16%3A33%3A28.661Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A29.213Z&to_ts=2026-01-08T16%3A33%3A29.213Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A29.213Z&to_ts=2026-01-08T16%3A33%3A29.213Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62144 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A30.677Z&to_ts=2026-01-08T16%3A33%3A30.677Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A30.677Z&to_ts=2026-01-08T16%3A33%3A30.677Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62148 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62148 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A36.480Z&to_ts=2026-01-08T16%3A33%3A36.480Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A36.480Z&to_ts=2026-01-08T16%3A33%3A36.480Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62148 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62148 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62147 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A36.961Z&to_ts=2026-01-08T16%3A33%3A36.961Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62148 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A36.961Z&to_ts=2026-01-08T16%3A33%3A36.961Z&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62150 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62150 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A38.974Z&to_ts=2026-01-08T16%3A33%3A38.974Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A38.974Z&to_ts=2026-01-08T16%3A33%3A38.974Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62150 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62150 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62149 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A42.317Z&to_ts=2026-01-08T16%3A33%3A42.317Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62150 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A42.317Z&to_ts=2026-01-08T16%3A33%3A42.317Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62155 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62155 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62155 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A47.468Z&to_ts=2026-01-08T16%3A33%3A47.468Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62156 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A47.468Z&to_ts=2026-01-08T16%3A33%3A47.468Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62156 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62155 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62155 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.034Z&to_ts=2026-01-08T16%3A33%3A48.034Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62156 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.034Z&to_ts=2026-01-08T16%3A33%3A48.034Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.618Z&to_ts=2026-01-08T16%3A33%3A48.618Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62158 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.618Z&to_ts=2026-01-08T16%3A33%3A48.618Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62158 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.985Z&to_ts=2026-01-08T16%3A33%3A48.985Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62158 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A33%3A48.985Z&to_ts=2026-01-08T16%3A33%3A48.985Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62160 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62160 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A09.406Z&to_ts=2026-01-08T16%3A34%3A09.406Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A09.406Z&to_ts=2026-01-08T16%3A34%3A09.406Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62160 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62160 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62159 - "OPTIONS /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A34%3A10.016Z&to_ts=2026-01-08T16%3A34%3A10.016Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62160 - "GET /audit-logs?domain=OPA&from_ts=2026-01-07T16%3A34%3A10.016Z&to_ts=2026-01-08T16%3A34%3A10.016Z&project_id=6ba7b810-9dad-11d1-80b4-00c04fd430c8&event_type=unknown&user_id=system&client_id=API HTTP/1.1" 200 OK
INFO:     127.0.0.1:62171 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62171 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62171 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A24.002Z&to_ts=2026-01-08T16%3A34%3A24.002Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A24.002Z&to_ts=2026-01-08T16%3A34%3A24.002Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A26.152Z&to_ts=2026-01-08T16%3A34%3A26.152Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A26.152Z&to_ts=2026-01-08T16%3A34%3A26.152Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A26.852Z&to_ts=2026-01-08T16%3A34%3A26.852Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A26.852Z&to_ts=2026-01-08T16%3A34%3A26.852Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A27.501Z&to_ts=2026-01-08T16%3A34%3A27.501Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A27.501Z&to_ts=2026-01-08T16%3A34%3A27.501Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A27.968Z&to_ts=2026-01-08T16%3A34%3A27.968Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A27.968Z&to_ts=2026-01-08T16%3A34%3A27.968Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A28.319Z&to_ts=2026-01-08T16%3A34%3A28.319Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62173 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A28.319Z&to_ts=2026-01-08T16%3A34%3A28.319Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A29.429Z&to_ts=2026-01-08T16%3A34%3A29.429Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A29.429Z&to_ts=2026-01-08T16%3A34%3A29.429Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A30.885Z&to_ts=2026-01-08T16%3A34%3A30.885Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A30.885Z&to_ts=2026-01-08T16%3A34%3A30.885Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.334Z&to_ts=2026-01-08T16%3A34%3A31.334Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.334Z&to_ts=2026-01-08T16%3A34%3A31.334Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.536Z&to_ts=2026-01-08T16%3A34%3A31.536Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.536Z&to_ts=2026-01-08T16%3A34%3A31.536Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.718Z&to_ts=2026-01-08T16%3A34%3A31.718Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A31.718Z&to_ts=2026-01-08T16%3A34%3A31.718Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62178 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A32.468Z&to_ts=2026-01-08T16%3A34%3A32.468Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62177 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A34%3A32.468Z&to_ts=2026-01-08T16%3A34%3A32.468Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62190 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62190 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62190 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A32.451Z&to_ts=2026-01-08T16%3A35%3A32.451Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62191 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A32.451Z&to_ts=2026-01-08T16%3A35%3A32.451Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A39.518Z&to_ts=2026-01-08T16%3A35%3A39.518Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A39.518Z&to_ts=2026-01-08T16%3A35%3A39.518Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A39.901Z&to_ts=2026-01-08T16%3A35%3A39.901Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A39.901Z&to_ts=2026-01-08T16%3A35%3A39.901Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A40.418Z&to_ts=2026-01-08T16%3A35%3A40.418Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A40.418Z&to_ts=2026-01-08T16%3A35%3A40.418Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A40.851Z&to_ts=2026-01-08T16%3A35%3A40.851Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A40.851Z&to_ts=2026-01-08T16%3A35%3A40.851Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A41.351Z&to_ts=2026-01-08T16%3A35%3A41.351Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A41.351Z&to_ts=2026-01-08T16%3A35%3A41.351Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62193 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A42.335Z&to_ts=2026-01-08T16%3A35%3A42.335Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62194 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A42.335Z&to_ts=2026-01-08T16%3A35%3A42.335Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A43.584Z&to_ts=2026-01-08T16%3A35%3A43.584Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A43.584Z&to_ts=2026-01-08T16%3A35%3A43.584Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.001Z&to_ts=2026-01-08T16%3A35%3A44.001Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.001Z&to_ts=2026-01-08T16%3A35%3A44.001Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.318Z&to_ts=2026-01-08T16%3A35%3A44.318Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.318Z&to_ts=2026-01-08T16%3A35%3A44.318Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.550Z&to_ts=2026-01-08T16%3A35%3A44.550Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.550Z&to_ts=2026-01-08T16%3A35%3A44.550Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.734Z&to_ts=2026-01-08T16%3A35%3A44.734Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.734Z&to_ts=2026-01-08T16%3A35%3A44.734Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.983Z&to_ts=2026-01-08T16%3A35%3A44.983Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A44.983Z&to_ts=2026-01-08T16%3A35%3A44.983Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A45.702Z&to_ts=2026-01-08T16%3A35%3A45.702Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A45.702Z&to_ts=2026-01-08T16%3A35%3A45.702Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A45.884Z&to_ts=2026-01-08T16%3A35%3A45.884Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A45.884Z&to_ts=2026-01-08T16%3A35%3A45.884Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.067Z&to_ts=2026-01-08T16%3A35%3A46.067Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.067Z&to_ts=2026-01-08T16%3A35%3A46.067Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.236Z&to_ts=2026-01-08T16%3A35%3A46.236Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.236Z&to_ts=2026-01-08T16%3A35%3A46.236Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62195 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.401Z&to_ts=2026-01-08T16%3A35%3A46.401Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62196 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A46.401Z&to_ts=2026-01-08T16%3A35%3A46.401Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.384Z&to_ts=2026-01-08T16%3A35%3A57.384Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.384Z&to_ts=2026-01-08T16%3A35%3A57.384Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.567Z&to_ts=2026-01-08T16%3A35%3A57.567Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.567Z&to_ts=2026-01-08T16%3A35%3A57.567Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.735Z&to_ts=2026-01-08T16%3A35%3A57.735Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.735Z&to_ts=2026-01-08T16%3A35%3A57.735Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.918Z&to_ts=2026-01-08T16%3A35%3A57.918Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A57.918Z&to_ts=2026-01-08T16%3A35%3A57.918Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.101Z&to_ts=2026-01-08T16%3A35%3A58.101Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.101Z&to_ts=2026-01-08T16%3A35%3A58.101Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.251Z&to_ts=2026-01-08T16%3A35%3A58.251Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.251Z&to_ts=2026-01-08T16%3A35%3A58.251Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62203 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.401Z&to_ts=2026-01-08T16%3A35%3A58.401Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.401Z&to_ts=2026-01-08T16%3A35%3A58.401Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.584Z&to_ts=2026-01-08T16%3A35%3A58.584Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.584Z&to_ts=2026-01-08T16%3A35%3A58.584Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.818Z&to_ts=2026-01-08T16%3A35%3A58.818Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A58.818Z&to_ts=2026-01-08T16%3A35%3A58.818Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A59.920Z&to_ts=2026-01-08T16%3A35%3A59.920Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A35%3A59.920Z&to_ts=2026-01-08T16%3A35%3A59.920Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.218Z&to_ts=2026-01-08T16%3A36%3A00.218Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.218Z&to_ts=2026-01-08T16%3A36%3A00.218Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.451Z&to_ts=2026-01-08T16%3A36%3A00.451Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.451Z&to_ts=2026-01-08T16%3A36%3A00.451Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62205 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.718Z&to_ts=2026-01-08T16%3A36%3A00.718Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62206 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A00.718Z&to_ts=2026-01-08T16%3A36%3A00.718Z&user_id=system HTTP/1.1" 200 OK
INFO:     127.0.0.1:62210 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62210 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62210 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62211 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62211 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A39.341Z&to_ts=2026-01-08T16%3A36%3A39.341Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62210 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A39.341Z&to_ts=2026-01-08T16%3A36%3A39.341Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62213 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:62213 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:62227 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62228 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62227 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62229 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62239 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62240 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62241 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62239 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62239 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62242 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62240 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62241 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A57.172Z&to_ts=2026-01-08T16%3A36%3A57.172Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62241 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A57.175Z&to_ts=2026-01-08T16%3A36%3A57.175Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62238 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A57.175Z&to_ts=2026-01-08T16%3A36%3A57.175Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62240 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A36%3A57.172Z&to_ts=2026-01-08T16%3A36%3A57.172Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [90470]
INFO:     Started server process [91997]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [91997]
INFO:     Started server process [92149]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:62456 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62456 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62456 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62457 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62457 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A44%3A58.428Z&to_ts=2026-01-08T16%3A44%3A58.428Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62456 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A44%3A58.428Z&to_ts=2026-01-08T16%3A44%3A58.428Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62474 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62475 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62474 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62476 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:62476 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62474 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62474 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A28.537Z&to_ts=2026-01-08T16%3A45%3A28.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62476 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A28.537Z&to_ts=2026-01-08T16%3A45%3A28.537Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62487 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62487 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62487 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62488 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62488 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A36.459Z&to_ts=2026-01-08T16%3A45%3A36.459Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62487 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A36.459Z&to_ts=2026-01-08T16%3A45%3A36.459Z HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/api/opa.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92149]
INFO:     Started server process [92371]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:62521 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62521 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62521 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62522 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62522 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A57.729Z&to_ts=2026-01-08T16%3A45%3A57.729Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62521 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A45%3A57.729Z&to_ts=2026-01-08T16%3A45%3A57.729Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62533 - "GET /opa/audit-logs?from_ts=2026-01-07T00:00:00Z&to_ts=2026-01-09T00:00:00Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62553 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62553 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62553 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62554 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62554 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A46%3A39.364Z&to_ts=2026-01-08T16%3A46%3A39.364Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62553 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A46%3A39.364Z&to_ts=2026-01-08T16%3A46%3A39.364Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62573 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62573 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62573 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62574 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62574 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A46%3A58.406Z&to_ts=2026-01-08T16%3A46%3A58.406Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62573 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A46%3A58.406Z&to_ts=2026-01-08T16%3A46%3A58.406Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62591 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62591 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62591 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62592 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62592 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A47%3A05.561Z&to_ts=2026-01-08T16%3A47%3A05.561Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62591 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A47%3A05.561Z&to_ts=2026-01-08T16%3A47%3A05.561Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62610 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62610 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62610 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62611 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62611 - "OPTIONS /opa/audit-logs?from_ts=2026-01-07T16%3A47%3A26.067Z&to_ts=2026-01-08T16%3A47%3A26.067Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62610 - "GET /opa/audit-logs?from_ts=2026-01-07T16%3A47%3A26.067Z&to_ts=2026-01-08T16%3A47%3A26.067Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62653 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62653 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62653 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62654 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62654 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A10.707Z&to_ts=2026-01-08T16%3A50%3A10.707Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62653 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A10.707Z&to_ts=2026-01-08T16%3A50%3A10.707Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62655 - "GET /audit/filter-events/verify HTTP/1.1" 409 Conflict
INFO:     127.0.0.1:62657 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "OPTIONS /opa/audit-logs?from_ts=2026-01-07T16%3A50%3A16.697Z&to_ts=2026-01-08T16%3A50%3A16.697Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "GET /opa/audit-logs?from_ts=2026-01-07T16%3A50%3A16.697Z&to_ts=2026-01-08T16%3A50%3A16.697Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A17.814Z&to_ts=2026-01-08T16%3A50%3A17.814Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A17.814Z&to_ts=2026-01-08T16%3A50%3A17.814Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62658 - "OPTIONS /opa/audit-logs?from_ts=2026-01-07T16%3A50%3A19.743Z&to_ts=2026-01-08T16%3A50%3A19.743Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62657 - "GET /opa/audit-logs?from_ts=2026-01-07T16%3A50%3A19.743Z&to_ts=2026-01-08T16%3A50%3A19.743Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62659 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62659 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62659 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62660 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:62660 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A20.897Z&to_ts=2026-01-08T16%3A50%3A20.897Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62659 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T16%3A50%3A20.897Z&to_ts=2026-01-08T16%3A50%3A20.897Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:62664 - "GET /procedures/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:62664 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:62672 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62673 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62672 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:62674 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/models/opa_audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92371]
Process SpawnProcess-86:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline, compliance
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 7, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/__init__.py", line 11, in <module>
    from app.models.opa_audit import OPAAuditLog
  File "/Users/djtaylor/Desktop/procguard/app/models/opa_audit.py", line 8, in <module>
    class OPAAuditLog(Base):
    ...<24 lines>...
        created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, default=datetime.utcnow)
  File "/Users/djtaylor/Desktop/procguard/app/models/opa_audit.py", line 27, in OPAAuditLog
    payload: Mapped[dict] = mapped_column(JSONB, nullable=False, default=lambda: {})
                                          ^^^^^
NameError: name 'JSONB' is not defined
WARNING:  StatReload detected changes in 'app/models/opa_audit.py'. Reloading...
INFO:     Started server process [92944]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92944]
Process SpawnProcess-88:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline, compliance
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 7, in <module>
    from app.models.batch import Batch
  File "/Users/djtaylor/Desktop/procguard/app/models/__init__.py", line 3, in <module>
    from app.models.violation import Violation
  File "/Users/djtaylor/Desktop/procguard/app/models/violation.py", line 10, in <module>
    class Violation(Base):
    ...<21 lines>...
        sop: Mapped["SOP"] = relationship("SOP")
  File "/Users/djtaylor/Desktop/procguard/app/models/violation.py", line 22, in Violation
    payload: Mapped[dict] = mapped_column(JSONB, nullable=False, default=lambda: {})
                                          ^^^^^
NameError: name 'JSONB' is not defined
WARNING:  StatReload detected changes in 'app/models/violation.py'. Reloading...
INFO:     Started server process [92963]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/models/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [92963]
INFO:     Started server process [92970]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 18, in lifespan
    write_audit_log(
    ~~~~~~~~~~~~~~~^
        db=db,
        ^^^^^^
    ...<2 lines>...
        metadata={"version": "1.0.0"}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/djtaylor/Desktop/procguard/app/core/audit.py", line 39, in write_audit_log
    db.commit()
    ~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}
[SQL: INSERT INTO audit_logs (id, created_at, source, project_id, event_type, user_id, client_id, payload, audit_hash, violation_hash_link, actor, action, result, expected_state, actual_state, project, timestamp, client, agent, batch_id, violation_id) VALUES (%s::UUID, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::UUID, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::JSONB, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::VARCHAR, %s::UUID, %s::UUID)]
[parameters: (UUID('8792d19b-3614-46ea-9ed3-26fb06854f22'), datetime.datetime(2026, 1, 8, 16, 55, 38, 127222, tzinfo=datetime.timezone.utc), 'SYSTEM', UUID('550e8400-e29b-41d4-a716-446655440000'), None, None, 'API', '{"version": "1.0.0"}', None, None, 'system', 'SYSTEM_BOOT', 'SUCCESS', None, None, None, datetime.datetime(2026, 1, 8, 16, 55, 38, 127216, tzinfo=datetime.timezone.utc), None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'alembic/versions/e5a98d320ccd_implement_cryptographic_chain_of_custody.py'. Reloading...
INFO:     Started server process [93141]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 18, in lifespan
    write_audit_log(
    ~~~~~~~~~~~~~~~^
        db=db,
        ^^^^^^
    ...<2 lines>...
        metadata={"version": "1.0.0"}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/djtaylor/Desktop/procguard/app/core/audit.py", line 39, in write_audit_log
    db.commit()
    ~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}
[SQL: INSERT INTO audit_logs (id, created_at, source, project_id, event_type, user_id, client_id, payload, audit_hash, violation_hash_link, actor, action, result, expected_state, actual_state, project, timestamp, client, agent, batch_id, violation_id) VALUES (%s::UUID, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::UUID, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::JSONB, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::VARCHAR, %s::UUID, %s::UUID)]
[parameters: (UUID('d70d914e-651d-40fd-8442-e94cb58319cb'), datetime.datetime(2026, 1, 8, 16, 56, 4, 275708, tzinfo=datetime.timezone.utc), 'SYSTEM', UUID('550e8400-e29b-41d4-a716-446655440000'), None, None, 'API', '{"version": "1.0.0"}', None, None, 'system', 'SYSTEM_BOOT', 'SUCCESS', None, None, None, datetime.datetime(2026, 1, 8, 16, 56, 4, 275702, tzinfo=datetime.timezone.utc), None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'alembic/versions/e5a98d320ccd_implement_cryptographic_chain_of_custody.py'. Reloading...
INFO:     Started server process [93220]
INFO:     Waiting for application startup.
ERROR:    Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 256, in execute
    self._context = self._c.execute_unnamed(
                    ~~~~~~~~~~~~~~~~~~~~~~~^
        statement, vals=vals, oids=self._input_oids, stream=stream
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 704, in execute_unnamed
    self.handle_messages(context)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/core.py", line 844, in handle_messages
    raise context.error
pg8000.exceptions.DatabaseError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
pg8000.dbapi.ProgrammingError: {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/fastapi/routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ~~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 214, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 18, in lifespan
    write_audit_log(
    ~~~~~~~~~~~~~~~^
        db=db,
        ^^^^^^
    ...<2 lines>...
        metadata={"version": "1.0.0"}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/djtaylor/Desktop/procguard/app/core/audit.py", line 39, in write_audit_log
    db.commit()
    ~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pg8000/legacy.py", line 283, in execute
    raise cls(msg)
sqlalchemy.exc.ProgrammingError: (pg8000.dbapi.ProgrammingError) {'S': 'ERROR', 'V': 'ERROR', 'C': '42703', 'M': 'column "audit_hash" of relation "audit_logs" does not exist', 'P': '102', 'F': 'parse_target.c', 'L': '1080', 'R': 'checkInsertTargets'}
[SQL: INSERT INTO audit_logs (id, created_at, source, project_id, event_type, user_id, client_id, payload, audit_hash, violation_hash_link, actor, action, result, expected_state, actual_state, project, timestamp, client, agent, batch_id, violation_id) VALUES (%s::UUID, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::UUID, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::JSONB, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::VARCHAR, %s::TIMESTAMP WITH TIME ZONE, %s::VARCHAR, %s::VARCHAR, %s::UUID, %s::UUID)]
[parameters: (UUID('ccc36727-da4d-47f2-b50f-4c97b04f21f9'), datetime.datetime(2026, 1, 8, 16, 56, 20, 938105, tzinfo=datetime.timezone.utc), 'SYSTEM', UUID('550e8400-e29b-41d4-a716-446655440000'), None, None, 'API', '{"version": "1.0.0"}', None, None, 'system', 'SYSTEM_BOOT', 'SUCCESS', None, None, None, datetime.datetime(2026, 1, 8, 16, 56, 20, 938099, tzinfo=datetime.timezone.utc), None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)

ERROR:    Application startup failed. Exiting.
WARNING:  StatReload detected changes in 'app/core/transitions.py'. Reloading...
INFO:     Started server process [93334]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/transitions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93334]
INFO:     Started server process [93347]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/core/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93347]
INFO:     Started server process [93354]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93354]
INFO:     Started server process [93376]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93376]
INFO:     Started server process [93384]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/services/pdf.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93384]
INFO:     Started server process [93402]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/violations.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93402]
INFO:     Started server process [93411]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:63167 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63168 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:63169 - "OPTIONS /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63170 - "OPTIONS /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63168 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:63168 - "OPTIONS /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:63171 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:63169 - "GET /compliance/compliance-reports HTTP/1.1" 200 OK
INFO:     127.0.0.1:63170 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "POST /audit/filter-events HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T17%3A04%3A04.482Z&to_ts=2026-01-08T17%3A04%3A04.482Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:63170 - "OPTIONS /audit-logs?domain=SYSTEM&from_ts=2026-01-07T17%3A04%3A04.486Z&to_ts=2026-01-08T17%3A04%3A04.486Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T17%3A04%3A04.486Z&to_ts=2026-01-08T17%3A04%3A04.486Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:63169 - "GET /audit-logs?domain=SYSTEM&from_ts=2026-01-07T17%3A04%3A04.482Z&to_ts=2026-01-08T17%3A04%3A04.482Z HTTP/1.1" 200 OK
INFO:     127.0.0.1:63178 - "GET /violations/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63181 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:63182 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:63183 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:63181 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline HTTP/1.1" 200 OK
INFO:     127.0.0.1:63184 - "GET /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/pdf?eos_status=ON_TIME HTTP/1.1" 200 OK
INFO:     127.0.0.1:63188 - "OPTIONS /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
INFO:     127.0.0.1:63188 - "POST /batches/f1989a15-15ab-4981-9914-72ee6ba3addf/timeline/email HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/core/email.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93411]
INFO:     Started server process [93945]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/api/batches.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93945]
Process SpawnProcess-101:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline, compliance
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 90, in <module>
    class EmailRequest(BaseModel):
    ...<3 lines>...
        attachments: Dict[str, bool]
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 93, in EmailRequest
    message: Optional[str] = None
             ^^^^^^^^
NameError: name 'Optional' is not defined
WARNING:  StatReload detected changes in 'app/services/pdf.py'. Reloading...
Process SpawnProcess-102:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline, compliance
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 90, in <module>
    class EmailRequest(BaseModel):
    ...<3 lines>...
        attachments: Dict[str, bool]
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 93, in EmailRequest
    message: Optional[str] = None
             ^^^^^^^^
NameError: name 'Optional' is not defined
WARNING:  StatReload detected changes in 'app/api/batches.py'. Reloading...
Process SpawnProcess-103:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/djtaylor/Desktop/procguard/app/main.py", line 4, in <module>
    from app.api import batches, events, procedures, audit_timeline, compliance
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 90, in <module>
    class EmailRequest(BaseModel):
    ...<3 lines>...
        attachments: Dict[str, bool]
  File "/Users/djtaylor/Desktop/procguard/app/api/batches.py", line 93, in EmailRequest
    message: Optional[str] = None
             ^^^^^^^^
NameError: name 'Optional' is not defined
INFO:     Stopping reloader process [52209]
